function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i=n.parcelRequire70e5;i.register("9Ku0f",(function(t,n){var s;s=t.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(function(){return L}));var r=i("i8moy"),a=i("d1D4c"),o=i("3cmTU"),l=i("f20d1"),c=i("3oc2k"),u=i("hSqwb"),d=i("f1WHJ"),m=i("1mUbT"),f=i("aN34h"),p=i("2COrG");i("drEy7");var g=i("idFLD"),x=i("ldZgE"),h=i("co94Z"),w=i("49Xuj"),y=i("cGG3z"),v=i("8Lc0q"),b=i("tvHvX"),S=i("dQ96T"),N=i("71gGX"),j=i("cNly9"),T=i("jmcJ0"),k=i("99AuA"),M=i("ljuCd"),P=i("5VtiC"),_=i("aPpM9"),A=i("3k12c"),C=i("3szu4"),F=i("gIXxX");const R=new URL(i("797EZ")).toString();function L(){const[e,t]=(0,c.useState)("connectWallet"),[n,i]=(0,c.useState)(""),[s,L]=(0,c.useState)({init_nfts:[],recv_nfts:[],initToken:null,recvToken:null,init_sol:0,recv_sol:0}),[E,K]=(0,c.useState)([]),[O,B]=(0,c.useState)([]),[D,I]=(0,c.useState)([]),[U,W]=(0,c.useState)([]),[H,z]=(0,c.useState)(),[Y,G]=(0,c.useState)(),[$,q]=(0,c.useState)(),[V,J]=(0,c.useState)([]),[Z,X]=(0,c.useState)([]),[Q,ee]=(0,c.useState)(!1),[te,ne]=(0,c.useState)(!1),[ie,se]=(0,c.useState)(!1),[re,ae]=(0,c.useState)(!1),[oe,le]=(0,c.useState)(),[ce,ue]=(0,c.useState)(),[de,me]=(0,c.useState)(!1),fe=(0,o.useAnchorWallet)(),{isXnft:pe,xnft:ge,xnftKey:xe}=(0,P.useXNFT)();async function he(e){const{staking:t,missionStaking:n}=await(0,d.getTokens)(M.conn,e);t.length?le(t[0]):n.length?le(n[0]):le(null)}async function we(e){const t=await(0,d.getWalletTokens)(M.conn,e,!1,!0);let n=await(0,T.getMultipleNFTsTensor)(t);return n=n.map((e=>({...e,pnft:"PROGRAMMABLE_NON_FUNGIBLE"===e.tokenStandard}))),n.filter((e=>e.verified))}function ye(){L({init_nfts:[],recv_nfts:[],initToken:null,recvToken:null,init_sol:0,recv_sol:0})}(0,c.useEffect)((()=>{if((null==fe?void 0:fe.publicKey)||pe){const e=(null==fe?void 0:fe.publicKey)?null==fe?void 0:fe.publicKey:xe;z(e),G((null==fe?void 0:fe.publicKey)?fe:ge),t("loading"),ye(),ue(void 0)}}),[fe,pe]),(0,c.useEffect)((()=>{}),[H]),(0,c.useEffect)((()=>{H&&async function(){try{const[e,n,i,r]=await Promise.all([he(H),we(H),(0,d.getSwapTokens)(M.conn,H),(0,F.getPendingSwaps)(H)]);J(i),K(n),I(r.incomingSwaps),W(r.outgoingSwaps);const o=new URLSearchParams(window.location.search),l=o.get("target"),c=o.get("targetNFT");if(l&&c){q(new a.web3.PublicKey(l));const e=await(0,T.getMultipleNFTsTensor)([c]);L({...s,recv_nfts:e}),t("sendNFTs")}else t("choosePath")}catch(e){console.log(e),(0,d.setMessage)("Unable to load wallet, please refresh!",u.toast.error)}}()}),[H]);const ve=({step:n,icon:i,text:s,children:a,onClick:o})=>(0,r.jsxs)("div",{className:"flex flex-row w-full gap-4 justify-center items-center bg-pp rounded-full text-white text-lg px-4 py-3  \n                            ring-inset hover:ring-4 hover:ring-orange-500 cursor-pointer\n                            "+(e===n?"ring-4 ring-orange-500":""),onClick:()=>o?o():t(n),children:[(0,r.jsx)("div",{className:"flex w-auto lg:w-10 justify-center",children:i}),s,(0,r.jsx)("div",{className:"hidden lg:flex flex-grow"}),a]});return(0,r.jsxs)(k.InteriorShell,{title:"FoxySwap",description:"Safely trade NFTs P2P using FoxySwap. Up to 6 NFTs per swap. 0.02 SOL per use.",titleElement:"FoxySwap",bannerImageKey:"Beard",centerTitle:!0,showPremium:!0,getIsHolder:()=>null!=oe,contentContainerClassName:"mt-4 xl:mt-8 w-full px-4 sm:px-6 md:px-12 max-w-screen-2xl mx-auto flex flex-col gap-8",requireWallet:!1,children:[ie&&(0,r.jsx)(f.default,{setShow:se}),re&&(0,r.jsx)(p.default,{setShow:ae}),(0,r.jsxs)("div",{className:"flex gap-2 mr-auto items-center text-lg text-red-500 border-2 border-red-500 p-2 rounded-xl mt-4",children:[(0,r.jsx)(_.ExclamationCircleIcon,{className:"w-6 h-6 shrink-0"}),(0,r.jsx)("div",{children:"Ledger Users: If you encounter an error with approving transactions, update the Solana app on your Ledger."})]}),(0,r.jsxs)("div",{className:"flex flex-col-reverse md:flex-row w-full gap-8",children:["choosePath"===e&&(0,r.jsxs)("div",{className:"flex flex-col gap-3 mx-auto md:mx-0 w-full max-w-screen-sm md:max-w-[280px] font-lilita",children:[(0,r.jsx)(ve,{step:"history",icon:(0,r.jsx)(_.ClockIcon,{className:"w-6"}),text:"My Swap History"}),(0,r.jsx)(ve,{onClick:()=>se(!0),icon:(0,r.jsx)(_.StarIcon,{className:"w-6"}),text:"Verified Collections"}),(0,r.jsx)(ve,{onClick:()=>ae(!0),icon:(0,r.jsx)(_.ShieldExclamationIcon,{className:"w-6"}),text:"Common Scams"}),(0,r.jsx)(ve,{onClick:()=>(0,d.openWindow)("https://discord.gg/famousfoxes"),icon:(0,r.jsx)(A.FontAwesomeIcon,{icon:C.faDiscord,className:"w-6"}),text:"Join our Discord"})]}),(0,r.jsxs)("div",{className:"relative w-full flex flex-col text-white",children:[(0,r.jsx)(g.default,{goToStep:t,step:e}),!((null==fe?void 0:fe.publicKey)||pe)&&(0,r.jsx)(x.default,{}),((null==fe?void 0:fe.publicKey)||pe)&&(0,r.jsxs)(r.Fragment,{children:["loading"===e&&(0,r.jsxs)("div",{className:"flex items-center justify-center w-full h-full my-auto gap-x-2 mt-2",children:[(0,r.jsx)(m.default,{color:"fill-current"}),(0,r.jsx)("p",{className:"font-bold",children:"Firing up the transfer beams..."})]}),"choosePath"===e&&(0,r.jsx)(h.default,{swapCount:D.length+U.length,goToStep:t}),"reviewPendingSwaps"===e&&(0,r.jsx)(w.default,{incomingSwaps:D,outgoingSwaps:U,goToStep:t,rejectSwap:async e=>{(0,d.setMessage)("Rejecting offer...",u.toast.info),ne(!0);try{const t=await(0,F.getRejectSwapTxn)(e);await(0,d.sendVersionedTransaction)(t.instructions,Y,[],e.alt),(0,d.setMessage)("Offer rejected successfully!",u.toast.success);let n=D.filter((t=>t.swap!==e.swap));fetch(`/api/notify?from=${e.receiver}&to=${e.initiator}&complete=1&accept=0&reject=1&cancel=0`),I(n)}catch(e){console.log(e),(0,d.setMessage)("Error rejecting offer",u.toast.error)}ne(!1)},cancelSwap:async e=>{(0,d.setMessage)("Withdrawing offer...",u.toast.info),ne(!0);try{const t=await(0,F.getCancelSwapTxn)(e);await(0,d.sendVersionedTransaction)(t.instructions,Y,[],e.alt),(0,d.setMessage)("Offer withdrawn successfully!",u.toast.success);let n=U.filter((t=>t.swap!==e.swap));fetch(`/api/notify?from=${H.toBase58()}&to=${e.receiver}&complete=1&accept=0&reject=0&cancel=1`),W(n)}catch(e){console.log(e),(0,d.setMessage)("Error withdrawing offer",u.toast.error)}ne(!1)},completeSwap:async e=>{ne(!0);if(await M.conn.getBalance(H)<e.recv_sol)return ne(!1),void(0,d.setMessage)("Insufficient SOL balance!",u.toast.error);(0,d.setMessage)("Accepting the swap...",u.toast.info);try{const t=await(0,F.getCompleteSwapTxn)(e);await(0,d.sendVersionedTransaction)(t.instructions,Y,[],e.alt),(0,d.setMessage)("Swap completed successfully!",u.toast.success);let n=D.filter((t=>t.swap!==e.swap));fetch(`/api/notify?from=${e.receiver}&to=${e.initiator}&complete=1&accept=1&reject=0&cancel=0`),(0,d.addLog)("swap",100),(0,T.getSwapImage)(e.init_nfts,e.recv_nfts,e.init_sol,e.recv_sol,e.initToken,e.recvToken,e.initiator,e.receiver),I(n)}catch(e){console.log(e),e.toString().indexOf("Frozen")>0?(0,d.setMessage)("NFT is staked or frozen",u.toast.error):e.toString().indexOf("Failed to sign transaction")>0?(0,d.setMessage)("User denied request!",u.toast.error):e.toString().indexOf("authorized")>0?(0,d.setMessage)("Request denied, please refresh!",u.toast.error):e.toString().indexOf("Transaction was not confirmed")>0?(0,d.setMessage)("Network error",u.toast.error):(0,d.setMessage)("Error accepting swap!",u.toast.error)}ne(!1)},inProgress:te}),"selectTarget"===e&&(0,r.jsx)(y.default,{handleChange:e=>{i(e.target.value)},handleWallet:async()=>{try{let e;ee(!0);const i=await(async e=>{let t=e;if(e.includes(".sol"))try{if(e.split(".").length>2)throw"Unsupported SOL domain name";t=(await(0,d.getDomainOwner)(M.conn,e.split(".")[0])).toBase58()}catch(e){throw"Invalid SOL domain name"}else if(t.includes("@"))try{t=(await(0,d.getTwitterOwner)(M.conn,t.replace("@",""))).toBase58()}catch{throw"Invalid Twitter handle"}return t})(n);try{e=new a.web3.PublicKey(i)}catch(e){throw"Invalid wallet address!"}const[s,r]=await Promise.all([we(e),(0,d.getSwapTokens)(M.conn,e)]);X(r),B(s),q(e),t("receiveNFTs")}catch(e){(0,d.setMessage)(e,u.toast.error)}finally{ee(!1)}},target:n,fetchingNFTs:Q}),"receiveNFTs"===e&&(0,r.jsx)(v.default,{receiverNFTs:O,recvTokens:Z,goToStep:t,target:n,newSwap:s,setNewSwap:L}),"sendNFTs"===e&&(0,r.jsx)(b.default,{initTokens:V,initiatorNFTs:E,goToStep:t,target:n,newSwap:s,setNewSwap:L}),"reviewNewSwap"===e&&(0,r.jsx)(S.default,{newSwap:s,setNewSwap:L,initSwap:async()=>{(0,d.setMessage)("Initiating the swap...",u.toast.info),ne(!0);try{const e=await M.conn.getBalance(H);if(e<.02*l.LAMPORTS_PER_SOL)throw"Insufficient balance!";if(s.init_sol&&s.recv_sol)throw"Invalid SOL amount!";if(0===s.init_nfts.length&&!s.initToken&&!s.init_sol)throw"Add SOL amount!";if(0===s.recv_nfts.length&&!s.recvToken&&!s.recv_sol)throw"Add SOL amount!";if(e<s.init_sol*l.LAMPORTS_PER_SOL)throw"Insufficient SOL balance!";if(s.initToken&&s.initToken.transferAmount>s.initToken.amount)throw`Insufficient ${s.initToken.name} balance!`}catch(e){return(0,d.setMessage)(e.toString(),u.toast.error),void ne(!1)}let e=ce;const n=(0,F.isALTRequired)([...s.init_nfts,...s.recv_nfts]);try{if(n){me(!0);const{txns:t,address:n,count:i}=await(0,F.createSwapALT)(s,H,$,e);let r=await(0,F.getALTSize)(n);if(r!==i&&await(0,F.sendALTTxns)(t,Y,r>0),r=await(0,F.getALTSize)(n),r<i)return(0,d.setMessage)("Setup transaction failed, try again!",u.toast.error),ne(!1);r>0&&(ue(n),e=n)}}catch(e){return console.log(e),(0,d.setMessage)("Setup transaction failed, try again!",u.toast.error),ne(!1)}try{const{txn:n,swap:i}=await(0,F.getInitSwapTxns)(s,H,$,e,oe);await(0,d.sendVersionedTransaction)(n.instructions,Y,[i],e),(0,d.setMessage)("Offer sent successfully!",u.toast.success),fetch(`/api/notify?from=${H.toBase58()}&to=${$.toBase58()}&complete=0`),await(async(e,n,i)=>{W([...U,{...e,initiator:H.toBase58(),receiver:$.toBase58(),initTokenAmount:e.initToken?e.initToken.transferAmount:0,recvTokenAmount:e.recvToken?e.recvToken.transferAmount:0,init_sol:e.init_sol?1e9*e.init_sol:0,recv_sol:e.recv_sol?1e9*e.recv_sol:0,swap:n.toBase58(),alt:null!=i?i:null}]),K(E.filter((t=>!e.init_nfts.some((e=>e.mint===t.mint))))),t("confirmation")})(s,i.publicKey),ye(),ue(void 0),me(!1)}catch(e){console.log(e),(0,d.setMessage)("Failed to initiate swap",u.toast.error)}finally{ne(!1)}},inProgress:te,fox:!!oe,altRequired:de,currAlt:ce}),"confirmation"===e&&(0,r.jsx)(N.default,{goToStep:t}),"history"===e&&(0,r.jsx)(j.default,{})]}),(0,r.jsx)("p",{})]})]}),(0,r.jsxs)("div",{className:"flex flex-col mt-8 w-full gap-4 sm:flex-row text-white bg-pp p-4 rounded-2xl justify-center sm:justify-start",children:[(0,r.jsx)("div",{className:"shrink-0 max-w-[200px] mx-auto sm:mx-6 my-auto lg:my-6 aspect-1 bg-orange-500 rounded-lg",children:(0,r.jsx)("img",{src:R.toString(),className:"w-full rounded-lg"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 justify-center",children:[(0,r.jsx)("h1",{className:"font-lilita text-orange-400 text-4xl",children:"Devin, Customer Support Fox"}),(0,r.jsx)("p",{className:"text-gray-300",children:"With FoxySwap, you can securely trade NFTs peer to peer without worry!"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 max-w-screen-lg",children:[(0,r.jsx)("p",{className:"text-gray-300",children:"With over 600 Verified Collections included (and more added constantly), each trade ensures all NFTs are authentic. Additionally, if your trade is a little imbalanced, you can add additional SOL to the swap to even it out!"}),(0,r.jsx)("p",{className:"font-bold",children:"FoxySwap supports swapping up to 10 NFTs / 4 PNFTs per transaction and costs 0.1 SOL per trade."})]})]})]})]})}})),i.register("aN34h",(function(t,n){e(t.exports,"default",(function(){return o}));var s=i("i8moy"),r=i("hJTHk"),a=i("3oc2k");function o(e){const t=(0,a.useRef)(),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]);return(0,r.default)(t,(()=>e.setShow(!1))),(0,a.useEffect)((()=>{fetch("/api/verifiedCollections").then((e=>e.json())).then((e=>{i(e.map((e=>({name:e.replaceAll("_"," ")})))),l(e.map((e=>({name:e.replaceAll("_"," ")}))))}))}),[]),(0,s.jsx)("div",{className:"z-modal w-screen backdrop-blur-lg bg-black/50 h-screen fixed top-0 left-0 flex items-center justify-center text-white",children:(0,s.jsxs)("div",{ref:t,className:"pb-12 modal bg-pp relative shadow-lg max-w-screen-sm w-full md:rounded-3xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between text-white bg-fff-purple p-6 md:px-12",children:[(0,s.jsx)("p",{className:"font-lilita text-3xl",children:"Verified Collections"}),(0,s.jsx)("svg",{onClick:()=>e.setShow(!1),className:"text-white hover:text-orange-500 fill-current w-10 cursor-pointer",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"})})]}),(0,s.jsxs)("div",{className:"scrollable2 p-6 overflow-y-scroll h-full",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search",className:"w-full outline-none mb-3 rounded-xl bg-purple-500/10 border-2 border-purple-500 text-white placeholder-purple-400",onChange:e=>{i(o.filter((t=>t.name.toLowerCase().includes(e.target.value.toLowerCase()))))}}),(0,s.jsx)("div",{className:"",children:n.map(((e,t)=>(0,s.jsx)("p",{className:"p-3 border-b border-purple-500/10 text-lg capitalize title",children:e.name},t)))})]})]})})}})),i.register("hJTHk",(function(t,n){e(t.exports,"default",(function(){return r}));var s=i("3oc2k");function r(e,t){(0,s.useEffect)((()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}})),i.register("2COrG",(function(t,n){e(t.exports,"default",(function(){return o}));var s=i("i8moy"),r=i("hJTHk"),a=i("3oc2k");function o(e){const t=(0,a.useRef)();return(0,r.default)(t,(()=>e.setShow(!1))),(0,s.jsx)("div",{className:"z-modal w-screen backdrop-blur-lg bg-black/50 h-screen fixed top-0 left-0 flex items-center justify-center text-white",children:(0,s.jsxs)("div",{ref:t,className:"pb-12 bg-pp relative shadow-lg max-w-screen-sm w-full md:rounded-3xl overflow-hidden h-screen md:h-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between text-white bg-fff-purple p-6 md:px-12",children:[(0,s.jsx)("p",{className:"font-lilita text-3xl",children:"Common Scams"}),(0,s.jsx)("svg",{onClick:()=>e.setShow(!1),className:"text-white hover:text-orange-500 fill-current w-10 cursor-pointer",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"})})]}),(0,s.jsxs)("div",{className:"scrollable2 p-6 overflow-y-scroll h-full",children:[(0,s.jsx)("b",{children:"Recent OTC Scam Method - READ THIS!"})," ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"1. The scammer will offer you a trade of an NFT for yours (typically a popular NFT such as a Clayno as of recent.)"}),(0,s.jsx)("li",{children:"2. The scammer gives you their wallet to enter into a FoxySwap where they have a REAL NFT that will show as Verified on FoxySwap."}),(0,s.jsx)("li",{children:'3. You submit your offer to them and then they claim "FoxySwap isnt working".'})]}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"THIS IS WHERE THE SCAM HAPPENS"})," ",(0,s.jsx)("br",{})," ",(0,s.jsx)("br",{}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"1. The scammer will next suggest to send you the NFT first, but the catch is that it is a FAKE NFT they minted."}),(0,s.jsx)("li",{children:"2. After you receive the FAKE NFT, you send them your REAL NFT and then they block you."})]}),(0,s.jsx)("br",{}),(0,s.jsx)("b",{children:"DO NOT TRUST ANYONE WHO TELLS YOU FOXYSWAP IS NOT WORKING, BANNED IN THEIR COUNTRY, ETC."})," ",(0,s.jsx)("br",{})," ",(0,s.jsx)("br",{}),"Additionally, the scammer may ask to SCREEN SHARE or VIDEO CHAT with you as a way to create a sense of trust."]})]})})}})),i.register("drEy7",(function(t,n){e(t.exports,"BackToStep",(function(){return i("idFLD").default})),e(t.exports,"ConnectWallet",(function(){return i("ldZgE").default})),e(t.exports,"SelectTarget",(function(){return i("cGG3z").default})),e(t.exports,"ChoosePath",(function(){return i("co94Z").default})),e(t.exports,"ReceiveNFTs",(function(){return i("8Lc0q").default})),e(t.exports,"SendNFTs",(function(){return i("tvHvX").default})),e(t.exports,"ReviewPendingSwaps",(function(){return i("49Xuj").default})),e(t.exports,"ReviewNewSwap",(function(){return i("dQ96T").default})),e(t.exports,"Confirmation",(function(){return i("71gGX").default})),e(t.exports,"History",(function(){return i("cNly9").default}));i("idFLD"),i("ldZgE"),i("cGG3z"),i("co94Z"),i("8Lc0q"),i("tvHvX"),i("49Xuj"),i("dQ96T"),i("71gGX"),i("cNly9")})),i.register("idFLD",(function(t,n){e(t.exports,"default",(function(){return a}));var s=i("i8moy"),r=i("aPpM9");function a(e){let t,n=e.step;switch(n){case"reviewPendingSwaps":case"selectTarget":case"history":t="choosePath";break;case"receiveNFTs":t="selectTarget";break;case"sendNFTs":t="receiveNFTs";break;case"reviewNewSwap":t="sendNFTs"}return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"fixed z-50 top-[100px] sm:top-[90px] xl:top-[110px] left-4",children:"connectWallet"!=n&&"choosePath"!=n&&"loading"!=n&&"confirmation"!=n&&(0,s.jsx)("button",{onClick:()=>e.goToStep(t),className:"w-16 h-16 sm:w-12 sm:h-12 xl:w-16 xl:h-16 flex justify-center items-center bg-purple-500 hover:bg-purple-400 transition border-4 border-purple-400 rounded-full font-bold",children:(0,s.jsx)(r.ArrowLeftIcon,{className:"w-8 md:w-6"})})})})}})),i.register("ldZgE",(function(t,n){e(t.exports,"default",(function(){return r}));var s=i("i8moy");function r(){return(0,s.jsx)("div",{className:"font-hand font-bold text-xl text-white gap-x-4 w-full flex flex-col items-center justify-center h-64",children:(0,s.jsxs)("p",{className:"text-xl font-hand font-bold text-center",children:["Please connect your wallet.",(0,s.jsx)("span",{className:"text-sm block opacity-70",children:"It's in the top-right corner, way up there."})]})})}})),i.register("cGG3z",(function(t,n){e(t.exports,"default",(function(){return o}));var s=i("i8moy"),r=i("1mUbT"),a=i("gRfKC");function o(e){let t=e.target;return(0,s.jsxs)("div",{className:"text-center text-white flex flex-col items-center my-auto justify-center",children:[(0,s.jsx)("p",{className:"font-lilita text-orange-400 tracking-wider text-3xl",children:"Which wallet are you swapping with?"}),(0,s.jsx)("p",{className:"my-3",children:"Enter the wallet address you're swapping with, and we'll go ahead and load their NFTs for your selection."}),(0,s.jsxs)("div",{className:"w-full max-w-screen-sm",children:[(0,s.jsx)("label",{className:"flex flex-col items-start font-mono",children:(0,s.jsx)("input",{onChange:t=>e.handleChange(t),onKeyDown:t=>"Enter"===t.key?e.handleWallet():null,type:"text",placeholder:"Enter wallet address, .sol domain or @twitter",className:"w-full p-3 py-2 bg-purple-400/10 border-2 border-purple-500 rounded-lg text-white font-bold placeholder-purple-500",value:e.target})}),(0,s.jsx)(a.ButtonCTA,{disabled:!(t.length>0),buttonStyle:t.length>0?"":"disabled",id:"wallet",className:"!mt-4",onClick:()=>e.handleWallet(),children:e.fetchingNFTs?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.default,{color:"white",classNames:"mr-1"})," Loading NFTs..."]}):"Load NFTs"})]})]})}})),i.register("gRfKC",(function(t,n){e(t.exports,"ButtonCTA",(function(){return r})),e(t.exports,"SubButton",(function(){return a}));var s=i("i8moy");function r(e){let t="";switch(e.buttonStyle){case"success":t="bg-green-500 text-white border-[#123727] shadow-[0_4px_0_0_#123727] active:shadow-[0_0_0_0_#123727]";break;case"warning":t="bg-red-500 text-white border-[#692524] shadow-[0_4px_0_0_#692524] active:shadow-[0_0_0_0_#692524]";break;case"disabled":t="bg-gray-400 text-gray-600 border-gray-600 shadow-[0_4px_0_0_#555555] cursor-not-allowed";break;default:t="bg-orange-500 text-white border-[#56290F] shadow-[0_4px_0_0_#56290F] active:shadow-[0_0_0_0_#56290F]"}return(0,s.jsx)("button",{onClick:e.onClick,className:`w-full text-lg ${e.className?e.className:""} ${t} flex items-center justify-center -mt-1 p-4 px-10  \n        \t${e.disabled?"opacity-50":"active:translate-y-1 opacity-90 hover:opacity-100"} rounded-full font-lilita leading-none border-4`,disabled:e.disabled,children:e.children})}function a(e){return(0,s.jsx)("button",{className:`p-2 px-4 border-2 border-purple-500 rounded-full font-bold text-purple-400 hover:bg-purple-500/20 hover:text-white leading-none ${e.className}`,onClick:e.onClick,children:e.children})}})),i.register("co94Z",(function(t,n){e(t.exports,"default",(function(){return a}));var s=i("i8moy"),r=i("gRfKC");function a(e){return(0,s.jsxs)("div",{className:"text-center flex flex-col items-center justify-center py-8 lg:max-w-screen-sm mx-auto",children:[(0,s.jsxs)("p",{className:"font-bold text-xl",children:["You have ",e.swapCount," pending swaps."]}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-5 w-full md:w-80 max-w-screen-sm mt-5",children:[(0,s.jsx)(r.ButtonCTA,{onClick:()=>e.goToStep("selectTarget"),className:"uppercase tracking-wider",children:"Initiate New Swap"}),(0,s.jsx)(r.ButtonCTA,{disabled:e.swapCount<1,buttonStyle:e.swapCount<1?"disabled":"",...0!=e.swapCount&&{onClick:()=>e.goToStep("reviewPendingSwaps")},className:`\n                        ${e.swapCount>=1?"!bg-blue-500 border-blue-600 text-white":""} uppercase tracking-wider\n                    `,children:"View pending swaps"})]})]})}})),i.register("8Lc0q",(function(n,s){e(n.exports,"default",(function(){return y}));var r=i("i8moy"),a=i("kc9Vv"),o=i("c0PjY"),l=i("hSqwb"),c=i("gRfKC"),u=i("f1WHJ"),d=i("3oc2k"),m=i("k8RzP"),f=i("3Kx6j"),p=i("g6XdV"),g=i("ljuCd"),x=i("aPpM9"),h=i("kqdLh"),w=i("bGi7B");function y(e){const[n,i]=(0,d.useState)([]),[s,y]=(0,d.useState)({}),[v,b]=(0,d.useState)(""),[S,N]=(0,d.useState)([]),j=e.newSwap;(0,d.useEffect)((()=>{if(!e.receiverNFTs.length)return;let t=e.receiverNFTs.map((e=>(e.collection||(e.collName="Others"),e)));i([...t]),y((0,m.groupBy)(t,"collName")),console.log((0,m.groupBy)(t,"collName")),(0,u.scroll)()}),[e.receiverNFTs]);const T=t=>{const n=[...j.recv_nfts],i=n.findIndex((e=>e.mint===t.mint));if(-1!==i)return n.splice(i,1),e.setNewSwap({...j,recv_nfts:n}),!1;{let e=j.init_nfts.filter((e=>e.pnft)).length+j.recv_nfts.filter((e=>e.pnft)).length+(t.pnft?1:0);if(e>4)return(0,u.setMessage)("You can only add 4 PNFTs!",l.toast.error),!1;const i=e?7:10;if(5===j.recv_nfts.length)return(0,u.setMessage)("You can only receive 5 NFTs!",l.toast.error),!1;if(j.init_nfts.length+j.recv_nfts.length===i)return(0,u.setMessage)(`You can only receive ${j.recv_nfts.length} NFTs!`,l.toast.error),!1;n.push(t)}return e.setNewSwap({...j,recv_nfts:n}),!0};return console.log(j),(0,r.jsx)("div",{className:"relative text-center text-white xl:pl-5",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"font-lilita text-orange-400 tracking-wide text-2xl md:text-4xl",children:"Which NFT Does Your Heart Desire?"}),(0,r.jsxs)("p",{className:"font-bold my-2",children:["Select the NFT(s) that you wish to ",(0,r.jsx)("u",{children:"receive"}),"."]}),(0,r.jsxs)("div",{className:"flex flex-col w-full mt-3 gap-y-4 mx-auto md:max-w-screen-lg",children:[(0,r.jsx)("div",{className:(0,u.classNames)(0===j.recv_nfts.length?"bg-purple-500/20 border-purple-500":"bg-blue-500/10 border-blue-500","border-2 border-dashed rounded-xl p-4"),children:(0,r.jsxs)("div",{className:"flex flex-col",children:[j.recv_nfts.length+(j.recvToken?1:0)===0&&(0,r.jsx)("p",{className:"text-white p-3 pb-0 font-bold",children:"0 NFT(s) Selected."}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 md:flex-row gap-4",children:j.recv_nfts.length+(j.recvToken?1:0)>0&&(0,r.jsx)(r.Fragment,{children:j.recv_nfts.map(((e,t)=>(0,r.jsx)("div",{className:"aspect-w-1 aspect-h-1 cursor-pointer",onClick:()=>T(e),children:(0,r.jsx)(h.LazyImage,{src:(0,g.getCDNUrl)(e.imageUri),classNames:"rounded-xl"})},t)))})}),(0,r.jsxs)(c.ButtonCTA,{onClick:t=>{j.recvToken&&!j.recvToken.transferAmount?(0,u.setMessage)("Enter token amount!",l.toast.error):(t.preventDefault(),e.goToStep("sendNFTs"))},className:"uppercase mb-3 !mt-5 mx-auto tracking-wide w-full md:!w-1/3 !text-base md:!text-xl",children:[j.recv_nfts.length+(j.recvToken?1:0)>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"Confirm"})}),0===j.recv_nfts.length&&!j.recvToken&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{children:"Receive SOL Instead"})})]})]})}),(0,r.jsxs)("strong",{children:["Browsing wallet: ",(0,r.jsx)("span",{className:"text-purple-400 break-words",children:e.target})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-3 gap-x-5 md:text-left",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-5xl font-lilita tracking-wider text-purple-500/30",children:"THEIR TOKENS"}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center",children:[(0,r.jsx)(p.default,{placeholder:"Select...",styles:g.merchStyles,className:"flex-1",options:e.recvTokens,onChange:t=>e.setNewSwap({...j,recvToken:t}),value:j.recvToken||""},`key_${j.recvToken}`),(0,r.jsx)(w.default,{className:"w-1/3 p-3 py-2 bg-purple-400/10 border-2 border-purple-500 rounded-lg text-white font-bold placeholder-purple-500",placeholder:"Amount",value:j.recvToken?j.recvToken.transferAmount:"",min:0,max:1e5,step:.1,onChange:t=>e.setNewSwap({...j,recvToken:{...j.recvToken,transferAmount:t}}),disabled:!j.recvToken}),(0,r.jsx)("button",{className:"p-2 px-4 bg-purple-500/20 text-purple-400 rounded-full",onClick:()=>e.setNewSwap({...j,recvToken:null}),children:"Reset"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row mt-3 gap-y-3 gap-x-5 justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-5xl font-lilita tracking-wider text-purple-500/30",children:"THEIR NFTS"}),(0,r.jsx)(f.SearchBar,{placeholder:"Search Collection",className:"w-full md:w-60",value:v,setValue:b,onSearch:()=>async function(e){e||y((0,m.groupBy)(n,"collName"));let t=n.filter((t=>t.collName.toLowerCase().includes(e.toLowerCase())));y((0,m.groupBy)(t,"collName")),(0,u.scroll)()}(v)})]}),Object.keys(s).length>0&&Object.keys(s).sort().map((e=>(0,r.jsxs)("div",{className:(0,u.classNames)(S.includes(e)?"border border-dashed border-purple-500/50 hover:bg-purple-500/30":"border-solid border-2 border-purple-500","p-5 bg-purple-500/10 rounded-3xl transition"),children:[(0,r.jsxs)("div",{className:"capitalize cursor-pointer text-left font-lilita tracking-wide text-base md:text-2xl flex flex-row justify-between px-0 md:px-2 items-center rounded-2xl",onClick:()=>{S.includes(e)?N(S.filter((t=>t!==e))):N([...S,e]),(0,u.scroll)()},children:[(0,r.jsxs)("label",{children:[e," (",s[e].length,")"]}),(0,r.jsx)(x.ChevronUpIcon,{className:(0,u.classNames)(S.includes(e)?"rotate-180":"rotate-0","text-purple-500 hover:text-purple-400 w-8 transition-all")})]}),!S.includes(e)&&(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-5 overflow-visible mt-3",children:(0,m.sortBy)(s[e],"name").map((e=>(0,r.jsx)(t(o),{height:90,children:(0,r.jsx)(a.default,{nfts:j.recv_nfts,nft:e,handleClick:T})},e.mint)))})]},e))),(0,r.jsx)("p",{className:"text-sm text-red-400 mt-20 border border-red-500/50 bg-red-500/10 p-5 rounded-xl",children:"Whilst the Famous Fox Federation makes our best attempt to verify the authenticity of NFTs via a third party API, we take no financial responsibility for losses due to failure on the part of the software or any participant party to a trade."})]})]})})}})),i.register("kc9Vv",(function(t,n){e(t.exports,"default",(function(){return u}));var s=i("i8moy"),r=i("3oc2k"),a=i("l3Uc1"),o=i("ljuCd"),l=i("kqdLh");const c=new URL(i("C1P8R")).toString();function u(e){const[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(e.nfts.some((t=>t.mint===e.nft.mint)))}),[e.nfts]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{onClick:()=>e.handleClick(e.nft),className:`\n                group relative rounded-xl border-2 cursor-pointer \n                ${t?"border-orange-400 bg-orange-50 ring-4 ring-orange-400":"border-transparent hover:bg-blue-50 hover:border-blue-500"}\n                `,children:["PROGRAMMABLE_NON_FUNGIBLE"===e.nft.tokenStandard&&(0,s.jsxs)("div",{"data-tip":!0,"data-for":"pnft-tooltip",children:[(0,s.jsx)("img",{src:c.toString(),className:"w-6 h-6 top-2 left-2 absolute z-10 bg-white bg-opacity-20 rounded fond-bold"}),(0,s.jsx)(a.default,{id:"pnft-tooltip",className:"rounded-full",children:(0,s.jsx)("label",{className:"font-lilita uppercase text-white text-xs rounded-full",children:"PNFT"})})]}),(0,s.jsx)(l.LazyImage,{src:(0,o.getCDNUrl)(e.nft.imageUri),classNames:"object-center object-cover w-full rounded-xl"}),(0,s.jsx)("div",{className:"block group-hover:hidden absolute bottom-0 overflow-hidden truncate transition-all font-bold text-white text-center text-sm p-2 bg-purple-900/90 w-full rounded-b-xl",children:e.nft.name}),(0,s.jsx)("div",{className:"hidden group-hover:block absolute bottom-0 overflow-hidden transition-all font-bold text-white text-center text-sm p-2 bg-purple-900/90 w-full rounded-b-xl",children:e.nft.name}),(0,s.jsx)("svg",{className:(t?"block":"hidden")+" h-6 w-6 text-blue-500 bg-blue-100 rounded-full p-0 absolute -top-3 -left-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})})}})),i.register("C1P8R",(function(e,t){e.exports=new URL(i("l8k7r").resolve("bcnKM"),import.meta.url).toString()})),i.register("3Kx6j",(function(t,n){e(t.exports,"SearchBar",(function(){return r}));var s=i("i8moy");const r=e=>{var t;let n=null!==(t=e.placeholder)&&void 0!==t?t:"Search";var i,r,a;return(0,s.jsxs)("div",{className:`${null!==(i=e.className)&&void 0!==i?i:""} relative w-full lg:w-auto flex items-center font-lilita`,children:[(0,s.jsx)("span",{className:"absolute right-4 flex items-center",children:(0,s.jsx)("button",{className:`${null!==(r=e.buttonClassName)&&void 0!==r?r:""} stroke-white hover:stroke-fff-purple-light focus:outline-none focus:shadow-outline`,type:"submit",onClick:()=>e.onSearch(),children:(0,s.jsx)("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-6 h-6",children:(0,s.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,s.jsx)("input",{className:`${null!==(a=e.inputClassName)&&void 0!==a?a:"text-xl"} w-full px-4 py-2 pr-[45px] border-2 border-white ring-0 \n            hover:border-fff-purple-light focus:ring-0 text-fff-purple-light font-normal rounded-full placeholder-white bg-transparent`,value:e.value,onChange:t=>e.setValue(t.target.value),onKeyDown:t=>{"Enter"===t.key&&e.onSearch()},type:"search",placeholder:n,id:"search",autoFocus:e.autoFocus})]})}})),i.register("bGi7B",(function(n,s){e(n.exports,"default",(function(){return x}));var r=i("indjD"),a=i("ghJuV"),o=i("9Hf0y"),l=i("kLNEq"),c=i("aRYTj"),u=i("8UaPJ"),d=i("3oc2k"),m="undefined"!=typeof navigator&&navigator.userAgent.match(/iPhone|iPad|iPod/i),f=function(e){var n=e.step,i=e.min,s=e.max,f=e.value,x=e.onChange,h=e.onKeyDown,w=e.enableMobileNumericKeyboard,y=e.component,v=t(a)(e,["step","min","max","value","onChange","onKeyDown","enableMobileNumericKeyboard","component"]),b=(0,d.useState)(f),S=b[0],N=b[1];(0,d.useEffect)((function(){N(f)}),[f]);var j={value:S,onChange:function(e){var n=function(e){if(t(c)(e))return e;if(t(u)(e)){if(!(e=e.trim()))return"";var n=parseFloat(e);if(!t(l)(n))return n}return""}(e);N(e),x&&x(n)},onKeyDown:function(e){38===e.keyCode?x&&x(g("+",f,s,i,n)):40===e.keyCode&&x&&x(g("-",f,s,i,n)),h&&h(e)},onWheel:function(e){e.target.blur()}};return w?(0,o.jsx)(y,t(r)({},v,j,{css:p,type:"number",inputMode:"numeric",pattern:m?"[0-9]*":"",step:n,min:i,max:s})):(0,o.jsx)(y,t(r)({},v,j,{css:p,type:"text"}))};f.defaultProps={autoComplete:"off",enableMobileNumericKeyboard:!1,value:"",component:function(e){var n=e.onChange,i=t(a)(e,["onChange"]);return(0,o.jsx)("input",t(r)({},i,{onChange:function(e){n&&n(e.target.value)}}))},step:1};var p={MozAppearance:"textfield","&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}};function g(e,n,i,s,r){if(""===n)return t(c)(s)?s:"";if(n="+"===e?n+r:n-r,t(c)(i)&&n>i)return i;if(t(c)(s)&&n<s)return s;var a=(r.toString().split(".")[1]||[]).length;return a?parseFloat(n.toFixed(a)):n}var x=f})),i.register("kLNEq",(function(e,t){var n=i("aRYTj");e.exports=function(e){return n(e)&&e!=+e}})),i.register("aRYTj",(function(e,t){var n=i("2huEQ"),s=i("2lpqs");e.exports=function(e){return"number"==typeof e||s(e)&&"[object Number]"==n(e)}})),i.register("2huEQ",(function(e,t){var n=i("Gi6rk"),s=i("e4GdZ"),r=i("dREZl"),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):r(e)}})),i.register("Gi6rk",(function(e,t){var n=i("1VpQ0").Symbol;e.exports=n})),i.register("1VpQ0",(function(e,t){var n=i("bEHFh"),s="object"==typeof self&&self&&self.Object===Object&&self,r=n||s||Function("return this")();e.exports=r})),i.register("bEHFh",(function(e,t){var i="object"==typeof n&&n&&n.Object===Object&&n;e.exports=i})),i.register("e4GdZ",(function(e,t){var n=i("Gi6rk"),s=Object.prototype,r=s.hasOwnProperty,a=s.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),n=e[o];try{e[o]=void 0;var i=!0}catch(e){}var s=a.call(e);return i&&(t?e[o]=n:delete e[o]),s}})),i.register("dREZl",(function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}})),i.register("2lpqs",(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}})),i.register("8UaPJ",(function(e,t){var n=i("2huEQ"),s=i("dyBKr"),r=i("2lpqs");e.exports=function(e){return"string"==typeof e||!s(e)&&r(e)&&"[object String]"==n(e)}})),i.register("dyBKr",(function(e,t){var n=Array.isArray;e.exports=n})),i.register("tvHvX",(function(n,s){e(n.exports,"default",(function(){return y}));var r=i("i8moy"),a=i("kc9Vv"),o=i("3oc2k"),l=i("c0PjY"),c=i("hSqwb"),u=i("f1WHJ"),d=i("gRfKC"),m=i("k8RzP"),f=i("3Kx6j"),p=i("g6XdV"),g=i("ljuCd"),x=i("aPpM9"),h=i("kqdLh"),w=i("bGi7B");function y(e){const[n,i]=(0,o.useState)([]),[s,y]=(0,o.useState)([]),[v,b]=(0,o.useState)({}),[S,N]=(0,o.useState)(""),j=e.newSwap;(0,o.useEffect)((()=>{if(!e.initiatorNFTs.length)return;let t=e.initiatorNFTs.map((e=>(e.collection||(e.collName="Others"),e)));y([...t]),b((0,m.groupBy)(t,"collName")),(0,u.scroll)()}),[e.initiatorNFTs]);const T=t=>{const n=j.init_nfts,i=n.findIndex((e=>e.mint===t.mint));if(-1!==i)n.splice(i,1);else{let e=j.recv_nfts.filter((e=>e.pnft)).length+j.init_nfts.filter((e=>e.pnft)).length+(t.pnft?1:0);if(e>4)return(0,u.setMessage)("You can only add 4 PNFTs!",c.toast.error),!1;const i=e?7:10;if(5===j.init_nfts.length)return(0,u.setMessage)("You can only send 5 NFTs!",c.toast.error),!1;if(j.init_nfts.length+j.recv_nfts.length===i)return(0,u.setMessage)(`You can only send ${j.init_nfts.length} NFTs!`,c.toast.error),!1;n.push(t)}e.setNewSwap({...j,init_nfts:[...n]})};return(0,r.jsxs)("div",{className:"relative text-center text-white xl:pl-5",children:[(0,r.jsx)("h1",{className:"font-lilita text-orange-400 tracking-wide text-2xl md:text-4xl",children:"Which NFT(s) Are You Willing to Let Go?"}),(0,r.jsxs)("p",{className:"font-bold my-2",children:["Select the NFT(s) that you want to ",(0,r.jsx)("u",{children:"send"}),"."]}),(0,r.jsxs)("div",{className:"flex flex-col w-full mt-3 gap-y-4 mx-auto md:max-w-screen-lg",children:[(0,r.jsx)("div",{className:(0,u.classNames)(j.recv_nfts.length+(j.recvToken?1:0)===0?"bg-purple-500/20 border-purple-500":"bg-orange-500/10 border-orange-500","border-2 border-dashed rounded-xl p-4"),children:(0,r.jsxs)("div",{className:"flex flex-col",children:[j.init_nfts.length+(j.initToken?1:0)===0&&(0,r.jsx)("p",{className:"text-white p-3 font-bold",children:"0 NFT(s) Selected."}),(j.init_nfts.length+(j.initToken?1:0)>0||j.recv_nfts.length+(j.recvToken?1:0)>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 mb-4 gap-4",children:j.init_nfts.map(((e,t)=>(0,r.jsx)("div",{className:"aspect-w-1 aspect-h-1 cursor-pointer",onClick:()=>T(e),children:(0,r.jsx)(h.LazyImage,{src:(0,g.getCDNUrl)(e.imageUri),classNames:"object-cover object-center rounded-xl"})},t)))}),(0,r.jsxs)(d.ButtonCTA,{onClick:t=>{j.initToken&&!j.initToken.transferAmount?(0,u.setMessage)("Enter token amount!",c.toast.error):(t.preventDefault(),e.goToStep("reviewNewSwap"))},className:"w-full md:!w-1/3 uppercase mb-3 mt-5 mx-auto tracking-wide !text-base md:!text-xl",children:[j.init_nfts.length+(j.initToken?1:0)===0&&j.recv_nfts.length+(j.recvToken?1:0)>0&&(0,r.jsx)("p",{children:"Offer SOL"}),j.init_nfts.length+(j.initToken?1:0)>0&&(0,r.jsx)("p",{children:"Confirm"})]})]})]})}),(0,r.jsx)("strong",{children:"Showing NFT(s) in Your Wallet"}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-3 gap-x-5 md:text-left",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-5xl font-lilita tracking-wider text-purple-500/30",children:"YOUR TOKENS"}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center",children:[(0,r.jsx)(p.default,{placeholder:"Select...",styles:g.merchStyles,className:"flex-1",options:e.initTokens,onChange:t=>e.setNewSwap({...j,initToken:t}),value:j.initToken||""},`key_${j.initToken}`),(0,r.jsx)(w.default,{className:"w-1/3 px-3 py-2 bg-purple-400/10 border-2 border-purple-500 rounded-lg text-white font-bold placeholder-purple-500",placeholder:"Amount",value:j.initToken?j.initToken.transferAmount:"",min:0,max:1e5,step:.1,onChange:t=>{e.setNewSwap({...j,initToken:{...j.initToken,transferAmount:t}})},disabled:!j.initToken}),(0,r.jsx)("button",{className:"p-2 px-4 bg-purple-500/20 text-purple-400 rounded-full",onClick:()=>e.setNewSwap({...j,initToken:null}),children:"Reset"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row mt-3 gap-y-3 gap-x-5 justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl md:text-5xl font-lilita tracking-wider text-purple-500/30",children:"YOUR NFTS"}),(0,r.jsx)(f.SearchBar,{placeholder:"Search Collection",className:"w-full md:w-60",value:S,setValue:N,onSearch:()=>async function(e){e||b((0,m.groupBy)(s,"collName"));let t=s.filter((t=>t.collName.toLowerCase().includes(e.toLowerCase())));b((0,m.groupBy)(t,"collName")),(0,u.scroll)()}(S)})]}),Object.keys(v).length>0&&Object.keys(v).sort().map((e=>(0,r.jsxs)("div",{className:(0,u.classNames)(n.includes(e)?"border border-dashed border-purple-500/50 hover:bg-purple-500/30":"border-solid border-2 border-purple-500","p-5 bg-purple-500/10 rounded-3xl transition"),children:[(0,r.jsxs)("div",{className:"capitalize cursor-pointer text-left font-lilita tracking-wide text-base md:text-2xl flex flex-row justify-between px-0 md:px-2 items-center rounded-2xl",onClick:()=>{n.includes(e)?i(n.filter((t=>t!==e))):i([...n,e]),(0,u.scroll)()},children:[(0,r.jsxs)("label",{children:[e," (",v[e].length,")"]}),(0,r.jsx)(x.ChevronUpIcon,{className:(0,u.classNames)(n.includes(e)?"rotate-180":"rotate-0","text-purple-500 hover:text-purple-400 w-8 transition-all")})]}),!n.includes(e)&&(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-5 overflow-visible mt-3",children:(0,m.sortBy)(v[e],"name").map((e=>(0,r.jsx)(t(l),{height:90,children:(0,r.jsx)(a.default,{handleClick:T,nft:e,nfts:j.init_nfts})},e.mint)))})]},e))),(0,r.jsx)("p",{className:"text-sm text-red-400 mt-20 border border-red-500/50 bg-red-500/10 p-5 rounded-xl",children:"Whilst the Famous Fox Federation makes our best attempt to verify the authenticity of NFTs via a third party API, we take no financial responsibility for losses due to failure on the part of the software or any participant party to a trade."})]})]})}})),i.register("49Xuj",(function(t,n){e(t.exports,"default",(function(){return a}));var s=i("i8moy"),r=i("752nD");function a(e){let t=e.incomingSwaps,n=e.outgoingSwaps,i=t.length,a=n.length;return(0,s.jsxs)("div",{className:"relative text-center text-white xl:pl-8",children:[(0,s.jsx)("p",{className:"font-lilita text-3xl text-orange-400",children:"Pending Swaps"}),(0,s.jsxs)("p",{className:"my-2 font-bold uppercase text-purple-400",children:["Offers you've initiated ",(0,s.jsxs)("span",{className:"text-white",children:["(",a,")"]})]}),n.map((function(t,n){return(0,s.jsx)(r.default,{type:"outgoing",swap:t,cancelSwap:e.cancelSwap,rejectSwap:e.rejectSwap,completeSwap:e.completeSwap,inProgress:e.inProgress},n)})),(0,s.jsxs)("p",{className:"pt-5 my-5 border-t-2 border-white/10 text-purple-400 font-bold uppercase",children:["Offers you've received ",(0,s.jsxs)("span",{className:"text-white",children:["(",i,")"]})]}),t.map((function(t,n){return(0,s.jsx)(r.default,{type:"incoming",swap:t,cancelSwap:e.cancelSwap,rejectSwap:e.rejectSwap,completeSwap:e.completeSwap,inProgress:e.inProgress},n)}))]})}})),i.register("752nD",(function(t,n){e(t.exports,"default",(function(){return m}));var s=i("i8moy"),r=i("f1WHJ"),a=i("1mUbT"),o=i("gRfKC"),l=i("aPpM9"),c=i("ljuCd"),u=i("kqdLh"),d=i("k8RzP");function m({swap:e,type:t,inProgress:n,cancelSwap:i,rejectSwap:m,completeSwap:f}){let p="https://solscan.io/account/";return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"flex justify-center my-3 ",children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 border-2 border-yellow-400 rounded-md p-2 px-4",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 1.944A11.954 11.954 0 012.166 5C2.056 5.649 2 6.319 2 7c0 5.225 3.34 9.67 8 11.317C14.66 16.67 18 12.225 18 7c0-.682-.057-1.35-.166-2.001A11.954 11.954 0 0110 1.944zM11 14a1 1 0 11-2 0 1 1 0 012 0zm0-7a1 1 0 10-2 0v3a1 1 0 102 0V7z",clipRule:"evenodd"})}),(0,s.jsx)("p",{className:"text-left leading-none text-yellow-400",children:"Please double check the collection page linked before accepting the offer!"})]})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-bold text-sm text-purple-500 uppercase",children:"Swapping with"}),(0,s.jsxs)("p",{className:"font-bold text-xl mb-4 break-words",children:["incoming"===t&&(0,s.jsx)(s.Fragment,{children:e.initiator}),"outgoing"===t&&(0,s.jsx)(s.Fragment,{children:e.receiver})]})]}),(0,s.jsxs)("p",{className:"flex w-full justify-between items-center uppercase font-lilita text-xl md:text-3xl text-orange-400 mb-3",children:["outgoing"===t&&(0,s.jsx)(s.Fragment,{children:"You've offered"}),"incoming"===t&&(0,s.jsx)(s.Fragment,{children:"You'll receive"})]}),(0,s.jsx)("div",{className:"w-full p-5 bg-orange-500/10 border-orange-500 border-2 border-dashed rounded-xl mb-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-5 lg:gap-5",children:[e.init_nfts.map(((e,t)=>(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 p-2",children:[!e.verified&&(0,s.jsx)("div",{className:"z-30 bg-red-500 text-white rounded flex text-xs text-left leading-none p-3",children:(0,s.jsx)("p",{className:"font-bold",children:"This NFT is unverified. Please ensure you trust the person who made the offer."})}),(0,s.jsxs)("div",{className:"w-full relative flex flex-col gap-x-4",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)(u.LazyImage,{src:e.imageUri,classNames:"w-full object-center object-cover rounded-md"})}),(0,s.jsxs)("div",{className:"w-full my-1",children:[(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://tensor.trade/item/${e.mint}`,target:"_blank",children:e.name}),e.collection&&(0,s.jsx)("a",{href:`https://tensor.trade/trade/${e.collection.slug}`,target:"_blank",className:"block hover:text-orange-300 text-sm font-bold capitalize truncate",children:e.collection.name}),!e.collection&&(0,s.jsx)("p",{className:"font-bold text-sm",children:"Unknown collection"}),(0,s.jsx)("a",{href:p+e.mint,rel:"noreferrer",target:"_blank",className:"font-bold text-sm text-orange-500 hover:text-orange-400",children:(0,r.shortenAddress)(e.mint)})]})]})]},t))),e.initToken&&(0,s.jsxs)("div",{className:(0,r.classNames)(e.init_nfts.length>0?"md:-mt-[60px]":"","flex justify-center items-center gap-x-3 text-white font-lilita text-3xl"),children:[(0,s.jsx)("h1",{className:"text-5xl text-yellow-400",children:"+"}),(0,s.jsxs)("div",{className:"flex gap-x-1",children:[(0,s.jsxs)("label",{children:[(0,d.round)(e.initTokenAmount/10**e.initToken.decimals,2)," "]}),(0,s.jsx)("p",{children:e.initToken.name})]})]}),0!==e.init_sol&&(0,s.jsxs)("div",{className:(0,r.classNames)(e.init_nfts.length>0?"md:-mt-[60px]":"","flex justify-center items-center gap-x-3 text-white font-lilita text-3xl"),children:[(0,s.jsx)("h1",{className:"text-5xl text-yellow-400",children:"+"}),(0,s.jsxs)("p",{className:"font-lilita tracking-wider text-4xl",children:[(0,d.round)(e.init_sol/1e9,2)," SOL"]})]})]})}),(0,s.jsxs)("p",{className:"flex w-full justify-between items-center uppercase font-lilita text-xl md:text-3xl text-orange-400 mb-3",children:["outgoing"===t&&(0,s.jsx)(s.Fragment,{children:"You'll receive"}),"incoming"===t&&(0,s.jsx)(s.Fragment,{children:"You'll send"}),(0,s.jsxs)("div",{className:"flex text-yellow-400",children:[(0,s.jsx)(l.ArrowSmDownIcon,{className:"w-12 -mr-3"}),(0,s.jsx)(l.ArrowSmUpIcon,{className:"w-12"})]})]}),(0,s.jsx)("div",{className:"w-full p-5 bg-blue-500/10 border-blue-500 border-2 border-dashed rounded-xl mb-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-5 lg:gap-5",children:[e.recv_nfts.map(((e,t)=>(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 p-2",children:[!e.verified&&(0,s.jsx)("div",{className:"z-30 bg-red-500 text-white rounded flex text-xs text-left leading-none p-3",children:(0,s.jsx)("p",{className:"font-bold",children:"This NFT is unverified. Please ensure you trust the person who made the offer."})}),(0,s.jsxs)("div",{className:"w-full relative flex flex-col gap-x-4",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)("img",{src:(0,c.getCDNUrl)(e.imageUri),className:"w-full object-center object-cover rounded-md"})}),(0,s.jsxs)("div",{className:"w-full my-1",children:[(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://tensor.trade/item/${e.mint}`,target:"_blank",children:e.name}),e.collection&&(0,s.jsx)("a",{href:`https://tensor.trade/trade/${e.collection.slug}`,target:"_blank",className:"block hover:text-orange-300 text-sm font-bold capitalize truncate",children:e.collection.name}),!e.collection&&(0,s.jsx)("p",{className:"font-bold text-sm",children:"Unknown collection"}),(0,s.jsx)("a",{href:p+e.mint,rel:"noreferrer",target:"_blank",className:"font-bold text-sm text-orange-500 hover:text-orange-400",children:(0,r.shortenAddress)(e.mint)})]})]})]},t))),e.recvToken&&(0,s.jsxs)("div",{className:(0,r.classNames)(e.recv_nfts.length>0?"md:-mt-[60px]":"","flex justify-center items-center gap-x-3 text-white font-lilita text-3xl"),children:[(0,s.jsx)("h1",{className:"text-5xl text-yellow-400",children:"+"}),(0,s.jsxs)("div",{className:"flex gap-x-1",children:[(0,s.jsxs)("label",{children:[(0,d.round)(e.recvTokenAmount/10**e.recvToken.decimals,2)," "]}),(0,s.jsx)("p",{children:e.recvToken.name})]})]}),0!==e.recv_sol&&(0,s.jsxs)("div",{className:(0,r.classNames)(e.recv_nfts.length>0?"md:-mt-[60px]":"","flex justify-center items-center gap-x-3 text-white font-lilita text-3xl"),children:[(0,s.jsx)("h1",{className:"text-5xl text-yellow-400",children:"+"}),(0,s.jsxs)("p",{className:"font-lilita tracking-wider text-4xl",children:[(0,d.round)(e.recv_sol/1e9,2)," SOL"]})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-5 md:gap-2 w-full mt-4 font-mono",children:["incoming"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ButtonCTA,{buttonStyle:"success",className:"md:!w-1/3 mx-auto",onClick:()=>f(e),children:n?(0,s.jsx)(a.default,{color:"white"}):"Accept Offer"}),(0,s.jsx)(o.ButtonCTA,{buttonStyle:"warning",className:"md:!w-1/3 mx-auto",onClick:()=>m(e),children:n?(0,s.jsx)(a.default,{color:"white"}):"Reject Offer"})]}),"outgoing"===t&&(0,s.jsx)("div",{className:"flex flex-col w-full",children:(0,s.jsx)(o.ButtonCTA,{buttonStyle:"warning",className:"md:!w-1/3 mx-auto",onClick:()=>i(e),children:n?(0,s.jsx)(a.default,{color:"white"}):"Withdraw Offer"})})]})]})})}})),i.register("dQ96T",(function(t,n){e(t.exports,"default",(function(){return c}));var s=i("i8moy"),r=i("6d0fK"),a=i("3oc2k"),o=i("1mUbT"),l=i("gRfKC");function c({newSwap:e,setNewSwap:t,inProgress:n,initSwap:i,fox:c,altRequired:u,currAlt:d}){const[m,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1);function x(n,i){"receive"===n?t({...e,recv_sol:i}):"send"===n&&t({...e,init_sol:i})}const h=(n,i)=>{"receive"===n?(g(i),f(!1),t({...e,recv_sol:0})):"send"===n&&(f(i),g(!1),t({...e,init_sol:0}))};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative text-center text-white xl:pl-5",children:[(0,s.jsx)("h1",{className:"font-lilita text-orange-400 tracking-wide text-2xl md:text-4xl",children:"Review Your Swap."}),(0,s.jsx)("p",{className:"font-bold my-2",children:"Ensure you've selected the right NFTs, offer / request SOL, and confirm the swap."}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("p",{className:"font-bold border-2 border-yellow-400 p-2 px-4 my-2 rounded-lg text-yellow-400",children:"Please double check the mint address & collection page on ME."})}),(0,s.jsxs)("div",{className:"flex flex-col w-full items-start",children:[(0,s.jsx)(r.default,{type:"outgoing",nfts:e.init_nfts,token:e.initToken,sol:e.init_sol,addSol:h,includeSol:m,oppositeSol:p,updateSol:x}),(0,s.jsx)(r.default,{type:"incoming",nfts:e.recv_nfts,token:e.recvToken,sol:e.recv_sol,addSol:h,includeSol:p,oppositeSol:m,updateSol:x}),(0,s.jsx)(l.ButtonCTA,{disabled:n,buttonStyle:"success",className:"md:!w-1/2 !text-xl md:!text-3xl py-5 !mt-4 mx-auto",onClick:()=>i(),children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{color:"white",classNames:"mr-2"})," ",(0,s.jsx)(s.Fragment,{children:u?`Progress ${d?1:0} / 2`:""})]}):(0,s.jsxs)(s.Fragment,{children:["Confirm Swap ",c?"":"(0.1 SOL)"]})}),(0,s.jsx)("p",{className:"text-xs text-white text-center mt-2 mx-auto",children:"Note: Transactions with more than 2 PNFTs or 6 NFTs can cost up to 0.02 SOL more to store addresses on-chain."})]})]})})}})),i.register("6d0fK",(function(t,n){e(t.exports,"default",(function(){return m}));var s=i("i8moy"),r=i("f1WHJ"),a=i("gRfKC"),o=i("aPpM9"),l=i("ljuCd"),c=i("kqdLh"),u=i("bGi7B");const d=new URL(i("jdwaf"));function m({nfts:e,type:t,token:n,sol:i,addSol:m,includeSol:f,oppositeSol:p,updateSol:g}){const x=e=>{m(e,!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex w-full justify-between items-center uppercase font-lilita text-xl md:text-3xl text-orange-400 mb-3",children:["outgoing"===t&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{children:"YOUR OFFER"})}),"incoming"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"YOU WILL RECEIVE"}),(0,s.jsxs)("div",{className:"flex text-yellow-400",children:[(0,s.jsx)(o.ArrowSmDownIcon,{className:"w-12 -mr-3"}),(0,s.jsx)(o.ArrowSmUpIcon,{className:"w-12"})]})]})]}),(0,s.jsxs)("div",{className:(0,r.classNames)("outgoing"===t?"bg-orange-500/10 border-orange-500":"bg-blue-500/10 border-blue-500","w-full p-5 border-2 border-dashed rounded-xl mb-3"),children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-5",children:[e.map(((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[!e.verified&&(0,s.jsx)("div",{className:"z-30 bg-red-500 text-white rounded flex text-xs text-left leading-none p-3",children:(0,s.jsx)("p",{className:"font-bold",children:"This NFT is unverified. Please ensure you trust the person who made the offer."})}),(0,s.jsxs)("div",{className:"w-full relative flex flex-col gap-x-4 md:mb-5",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)(c.LazyImage,{src:(0,l.getCDNUrl)(e.imageUri),classNames:"object-center object-cover w-full rounded-md"})}),(0,s.jsxs)("div",{className:"w-full my-1",children:[(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://magiceden.io/item-details/${e.mint}`,target:"_blank",children:e.name}),e.collection&&(0,s.jsx)("a",{href:`https://tensor.trade/trade/${e.collection.slug}`,target:"_blank",className:"underline block hover:text-orange-300 text-sm font-bold capitalize truncate",children:e.collection.name}),!e.collection&&(0,s.jsx)("p",{className:"font-bold text-sm",children:"Unknown collection"}),(0,s.jsx)("a",{href:"https://solscan.io/account/"+e.mint,rel:"noreferrer",target:"_blank",className:"font-bold text-sm text-orange-500 hover:text-orange-400",children:(0,r.shortenAddress)(e.mint)})]})]},t)]},e.mint))),n&&(0,s.jsxs)("div",{className:(0,r.classNames)(e.length>0?"md:-mt-[60px]":"col-span-2 sm:col-span-3 lg:col-span-5 md:mb-5","flex justify-center items-center gap-x-4 text-white font-lilita text-3xl"),children:[e.length>0&&(0,s.jsx)("h1",{className:"text-5xl text-yellow-400",children:"+"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:n.transferAmount}),(0,s.jsx)("p",{children:n.name})]})]})]}),!f&&(0,s.jsxs)(a.ButtonCTA,{..."incoming"===t&&!p&&{onClick:()=>m("receive",!0)},..."outgoing"===t&&!p&&{onClick:()=>m("send",!0)},disabled:p,buttonStyle:p?"disabled":"",className:"flex items-center !mt-5 md:!mt-0 md:!w-1/3 mx-auto",children:[(0,s.jsx)("svg",{className:"w-8 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"incoming"===t&&(0,s.jsx)(s.Fragment,{children:"Request "}),"outgoing"===t&&(0,s.jsx)(s.Fragment,{children:"Offer "}),"SOL"]}),f&&(0,s.jsxs)("div",{className:"sm:w-1/3 mx-auto flex gap-x-2 items-center relative rounded-md overflow-hidden p-4",children:[(0,s.jsx)("img",{src:d.toString(),className:"absolute left-6 w-8 p-1 rounded"}),(0,s.jsx)("form",{className:"w-full",children:(0,s.jsx)(u.default,{className:"py-2 pl-10 font-bold text-lg rounded-xl bg-purple-500/10 w-full border-2 border-purple-500",value:i||"",min:0,max:1e5,step:.1,onChange:e=>{"incoming"===t?g("receive",e):"outgoing"===t&&g("send",e)}})}),(0,s.jsx)("svg",{className:"cursor-pointer text-white hover:text-orange-400 h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",..."incoming"===t&&{onClick:()=>x("receive")},..."outgoing"===t&&{onClick:()=>x("send")},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]})]})}})),i.register("jdwaf",(function(e,t){e.exports=new URL(i("l8k7r").resolve("38sof"),import.meta.url).toString()})),i.register("71gGX",(function(t,n){e(t.exports,"default",(function(){return o}));var s=i("i8moy"),r=i("gRfKC");const a=new URL(i("8e9Ia"));function o(e){return(0,s.jsxs)("div",{className:"text-center flex flex-col items-center my-auto justify-center text-white px-4",children:[(0,s.jsx)("img",{src:a.toString(),className:"w-[80px] mb-4"}),(0,s.jsx)("h1",{className:"font-lilita text-3xl text-orange-400",children:"Swap succesfully offered!"}),(0,s.jsx)("p",{className:"font-bold my-3",children:"You can check on the status of your swap in the pending section, or you can initiate another swap."}),(0,s.jsxs)("div",{className:"w-full md:w-1/3 flex flex-col gap-4 my-3 mx-auto",children:[(0,s.jsx)(r.ButtonCTA,{buttonStyle:"success",onClick:()=>e.goToStep("reviewPendingSwaps"),children:"View Pending Swaps"}),(0,s.jsx)(r.ButtonCTA,{className:"",onClick:()=>e.goToStep("selectTarget"),children:"Initiate swap"})]})]})}})),i.register("8e9Ia",(function(e,t){e.exports=new URL(i("l8k7r").resolve("k6g0T"),import.meta.url).toString()})),i.register("cNly9",(function(n,s){e(n.exports,"default",(function(){return p}));var r=i("i8moy"),a=i("3cmTU"),o=i("c0PjY"),l=i("3oc2k"),c=i("96Neh"),u=i("1mUbT"),d=i("f1WHJ"),m=i("hSqwb"),f=i("1EHQ6");function p(){const e=(0,a.useWallet)(),[n,i]=(0,l.useState)([]),[s,p]=(0,l.useState)(!1);function g(t){const n=t.tokenTransfers.filter((t=>t.toUserAccount!==e.publicKey.toBase58())).map((e=>e.mint)).filter((e=>!f.some((t=>t.mint===e)))),i=t.tokenTransfers.filter((t=>t.toUserAccount===e.publicKey.toBase58())).map((e=>e.mint)).filter((e=>!f.some((t=>t.mint===e)))),s=t.tokenTransfers.filter((t=>t.toUserAccount!==e.publicKey.toBase58())).filter((e=>f.some((t=>t.mint===e.mint)))),r=t.tokenTransfers.filter((t=>t.toUserAccount===e.publicKey.toBase58())).filter((e=>f.some((t=>t.mint===e.mint)))),a=t.timestamp,o=t.signature,l=t.nativeTransfers.find((t=>2039280!==t.amount&&t.toUserAccount!==e.publicKey.toBase58())),c=t.nativeTransfers.find((t=>2039280!==t.amount&&t.toUserAccount===e.publicKey.toBase58())),u=t.feePayer!==e.publicKey.toBase58()?t.feePayer:function(t){let n=t.tokenTransfers.find((t=>t.toUserAccount!==e.publicKey.toBase58()));return n?n.toUserAccount:(n=t.nativeTransfers.find((t=>t.toUserAccount!==e.publicKey.toBase58())),n?n.toUserAccount:void 0)}(t);return{sendNFTs:n,recvNFTs:i,time:a,txn:o,sendSol:l,recvSol:c,sendToken:s,recvToken:r,receiver:u}}return(0,l.useEffect)((()=>{p(!0),fetch(`/api/getSwapHistory/${e.publicKey.toBase58()}`).then((e=>e.json())).then((e=>{try{const t=[];for(const n of e.swaps)t.push(g(n));i(t),p(!1)}catch(e){(0,d.setMessage)("Failed to load history",m.toast.error),i([]),p(!1),console.log(e)}}))}),[]),(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsxs)("div",{className:"rounded-3xl p-5 w-full my-3 text-white font-lilita text-xl flex items-center justify-center",children:[(0,r.jsx)(u.default,{classNames:"my-32 mr-2",color:"white"}),"Loading history ..."]}),!s&&(0,r.jsxs)("div",{className:"text-center flex flex-col w-full items-center my-auto justify-center text-white xl:pl-4",children:[(0,r.jsx)("h1",{className:"font-lilita text-3xl text-orange-400 tracking-wide mt-5 xl:mt-0",children:"Your Swap History"}),n.map((e=>(0,r.jsx)(t(o),{height:320,offset:100,className:"w-full",children:(0,r.jsx)(c.default,{swap:e})},e.txn)))]})]})}})),i.register("96Neh",(function(t,n){e(t.exports,"default",(function(){return x}));var s=i("i8moy"),r=i("f20d1"),a=i("3oc2k"),o=i("ljuCd"),l=i("f1WHJ"),c=i("6Bcwi"),u=i("1mUbT"),d=i("gRfKC"),m=i("k8RzP"),f=i("d1D4c"),p=i("3cmTU"),g=i("hSqwb");function x(e){const t=(0,p.useWallet)(),[n,i]=(0,a.useState)(!1),[x,h]=(0,a.useState)([]),[w,y]=(0,a.useState)([]),[v,b]=(0,a.useState)(),[S,N]=(0,a.useState)(),[j,T]=(0,a.useState)(!1),[k,M]=(0,a.useState)({}),[P,_]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{fetch("/api/nfts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokens:e.swap.sendNFTs.concat(e.swap.recvNFTs)})}).then((e=>e.json())).then((t=>{try{i(!1);const n=t.nfts.filter((t=>e.swap.sendNFTs.includes(t.mint))),s=t.nfts.filter((t=>e.swap.recvNFTs.includes(t.mint)));if(h(n.filter((e=>e.offChainData))),y(s.filter((e=>e.offChainData))),e.swap.sendToken.length){const t=o.swapTokens.find((t=>t.mint===e.swap.sendToken[0].mint));b({...t,...e.swap.sendToken[0]})}if(e.swap.recvToken.length){const t=o.swapTokens.find((t=>t.mint===e.swap.recvToken[0].mint));N({...t,...e.swap.recvToken[0]})}i(!0)}catch(e){console.log(e)}}))}),[e.swap]),(0,s.jsxs)(s.Fragment,{children:[j&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"w-screen h-screen fixed top-0 left-0 flex items-center justify-center z-modal bg-black/50 backdrop-blur",children:(0,s.jsxs)("div",{className:"w-full max-w-screen-lg h-screen md:h-4/5 pb-10 flex flex-col bg-pp md:mx-8 md:rounded-3xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between text-white bg-fff-purple p-6 px-12",children:[(0,s.jsx)("p",{className:"font-lilita text-3xl",children:"Support the Creators?"}),(0,s.jsx)("svg",{onClick:()=>T(!1),className:"text-white hover:text-orange-500 fill-current w-10 cursor-pointer",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"})})]}),(0,s.jsxs)("div",{className:"bg-pp text-white px-12 py-5 scrollable2 overflow-y-auto",children:[(0,s.jsx)("p",{className:"font-bold",children:"Would you consider supporting the creators of the NFTs by adding a tip to the NFTs that are being swapped?"}),(0,s.jsx)("p",{className:"font-bold",children:"The tip(s) will be paid to the project creators."}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center mt-5",children:[...x,...w].map((e=>(0,s.jsxs)("div",{className:"w-1/2 md:w-1/4 p-2",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)("img",{src:(0,o.getCDNUrl)(e.offChainData.image),className:"w-full object-center object-cover rounded-md"})}),(0,s.jsxs)("div",{className:"w-full my-1",children:[(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://magiceden.io/item-details/${e.mint}`,target:"_blank",children:e.offChainData.name}),(0,s.jsx)("input",{type:"number",className:"py-2 my-2 font-bold rounded-xl bg-purple-500/10 w-full border-2 border-purple-500",placeholder:"Add Tip",name:e.mint,value:k[e.mint]||"",onChange:e=>M({...k,[e.target.name]:e.target.value})})]})]},e.mint)))})]}),(0,s.jsx)("div",{className:"px-12 md:px-0",children:(0,s.jsx)(d.ButtonCTA,{disabled:P,buttonStyle:"success",className:"md:!w-1/2 !text-2xl py-5 !mt-4 md:mx-auto",onClick:async function(){try{_(!0);const e=new f.web3.Transaction,n=[...x,...w];for(const i of Object.keys(k)){const s=n.find((e=>e.mint===i));s.onChainData.data.creators.filter((e=>e.share>0)).forEach((n=>{e.add(r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:new f.web3.PublicKey(n.address),lamports:new(0,f.BN)((k[i]*n.share/100*r.LAMPORTS_PER_SOL).toFixed(0))}))}))}await(0,l.sendTransaction)(e,t),(0,l.setMessage)("Tipped successfully!",g.toast.success),(0,l.addLog)("tip",(0,m.sum)(Object.keys(k).map((e=>k[e]?k[e]*r.LAMPORTS_PER_SOL:0)))),_(!1),T(!1)}catch{_(!1),(0,l.setMessage)("Failed to send tip!",g.toast.error)}},children:P?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u.default,{})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:["Send Tip (",(0,m.sum)(Object.keys(k).map((e=>k[e]?parseFloat(k[e]):0)))," SOL)"]})})})})]})})}),!n&&(0,s.jsxs)("div",{className:"bg-pp rounded-3xl p-5 w-full my-3 text-white font-lilita text-xl flex items-center justify-center",children:[(0,s.jsx)(u.default,{classNames:"my-32 mr-2",color:"white"}),"Loading swap ..."]}),n&&(0,s.jsxs)("div",{className:"bg-pp rounded-3xl p-5 w-full my-3",children:[(0,s.jsx)("h1",{className:"font-lilita text-3xl tracking-wide",children:(0,c.default)(new Date(1e3*e.swap.time),"d mmm H:MM")}),(0,s.jsxs)("p",{className:"font-bold mb-3",children:["You"," ",(0,s.jsx)("a",{href:`https://solscan.io/tx/${e.swap.txn}`,target:"_blank",className:"text-orange-500 hover:text-orange-400",children:"swapped"})," ","with"," ",(0,s.jsx)("a",{href:`https://solscan.io/account/${e.swap.receiver}`,target:"_blank",className:"text-orange-500 hover:text-orange-400",children:(0,l.shortenAddress)(e.swap.receiver)})]}),(0,s.jsxs)("div",{className:"flex gap-5 flex-col md:flex-row",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/2 text-left",children:[(0,s.jsx)("h4",{className:"text-xs uppercase text-orange-500 font-bold",children:"You Sent"}),(0,s.jsxs)("div",{className:"flex flex-wrap bg-orange-500/10 border-orange-500 border-2 border-dashed rounded-xl p-2",children:[x.map((e=>(0,s.jsxs)("div",{className:"w-1/4 p-2",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)("img",{src:(0,o.getCDNUrl)(e.offChainData.image),className:"w-full object-center object-cover rounded-md"})}),(0,s.jsx)("div",{className:"w-full my-1",children:(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://magiceden.io/item-details/${e.mint}`,target:"_blank",children:e.offChainData.name})})]},e.mint))),e.swap.sendSol&&e.swap.sendSol.amount>0&&(0,s.jsx)("div",{className:"w-1/4 p-2 text-center flex flex-col justify-center items-center",children:(0,s.jsxs)("span",{className:"font-lilita text-xl leading-none",children:["+ ",(0,m.round)(e.swap.sendSol.amount/r.LAMPORTS_PER_SOL,2)," SOL"]})}),v&&(0,s.jsx)("div",{className:"w-1/4 p-2 text-center flex flex-col justify-center items-center",children:(0,s.jsxs)("span",{className:"font-lilita text-xl leading-none",children:["+ ",v.tokenAmount," ",v.name]})})]})]}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 text-left",children:[(0,s.jsx)("h4",{className:"text-xs uppercase text-blue-500 font-bold",children:"You Received"}),(0,s.jsxs)("div",{className:"flex flex-wrap bg-blue-500/10 border-blue-500 border-2 border-dashed rounded-xl p-2",children:[w.map((e=>(0,s.jsxs)("div",{className:"w-1/4 p-2",children:[(0,s.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:(0,s.jsx)("img",{src:(0,o.getCDNUrl)(e.offChainData.image),className:"w-full object-center object-cover rounded-md"})}),(0,s.jsx)("div",{className:"w-full my-1",children:(0,s.jsx)("a",{className:"block font-bold text-orange-400 hover:text-orange-300",href:`https://magiceden.io/item-details/${e.mint}`,target:"_blank",children:e.offChainData.name})})]},e.mint))),e.swap.recvSol&&e.swap.recvSol.amount>0&&(0,s.jsx)("div",{className:"w-1/4 p-2 text-center flex flex-col justify-center items-center",children:(0,s.jsxs)("span",{className:"font-lilita text-xl leading-none",children:["+ ",(0,m.round)(e.swap.recvSol.amount/r.LAMPORTS_PER_SOL,2)," SOL"]})}),S&&(0,s.jsx)("div",{className:"w-1/4 p-2 text-center flex flex-col justify-center items-center",children:(0,s.jsxs)("span",{className:"font-lilita text-xl leading-none",children:["+ ",S.tokenAmount," ",S.name]})})]})]})]}),(0,s.jsx)(d.ButtonCTA,{buttonStyle:"success",className:"md:!w-1/3 !text-2xl py-2 !mt-4 mx-auto",onClick:()=>T(!0),children:"Send Tip"})]})]})}})),i.register("6Bcwi",(function(t,n){e(t.exports,"default",(function(){return a}));var i=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,s=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,r=/[^-+\dA-Z]/g;function a(e,t,n,s){if(1!==arguments.length||"string"!=typeof e||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var r=(t=String(o[t]||t||o.default)).slice(0,4);"UTC:"!==r&&"GMT:"!==r||(t=t.slice(4),n=!0,"GMT:"===r&&(s=!0));var a=function(){return n?"getUTC":"get"},p=function(){return e[a()+"Date"]()},g=function(){return e[a()+"Day"]()},x=function(){return e[a()+"Month"]()},h=function(){return e[a()+"FullYear"]()},w=function(){return e[a()+"Hours"]()},y=function(){return e[a()+"Minutes"]()},v=function(){return e[a()+"Seconds"]()},b=function(){return e[a()+"Milliseconds"]()},S=function(){return n?0:e.getTimezoneOffset()},N=function(){return d(e)},j=function(){return m(e)},T={d:function(){return p()},dd:function(){return c(p())},ddd:function(){return l.dayNames[g()]},DDD:function(){return u({y:h(),m:x(),d:p(),_:a(),dayName:l.dayNames[g()],short:!0})},dddd:function(){return l.dayNames[g()+7]},DDDD:function(){return u({y:h(),m:x(),d:p(),_:a(),dayName:l.dayNames[g()+7]})},m:function(){return x()+1},mm:function(){return c(x()+1)},mmm:function(){return l.monthNames[x()]},mmmm:function(){return l.monthNames[x()+12]},yy:function(){return String(h()).slice(2)},yyyy:function(){return c(h(),4)},h:function(){return w()%12||12},hh:function(){return c(w()%12||12)},H:function(){return w()},HH:function(){return c(w())},M:function(){return y()},MM:function(){return c(y())},s:function(){return v()},ss:function(){return c(v())},l:function(){return c(b(),3)},L:function(){return c(Math.floor(b()/10))},t:function(){return w()<12?l.timeNames[0]:l.timeNames[1]},tt:function(){return w()<12?l.timeNames[2]:l.timeNames[3]},T:function(){return w()<12?l.timeNames[4]:l.timeNames[5]},TT:function(){return w()<12?l.timeNames[6]:l.timeNames[7]},Z:function(){return s?"GMT":n?"UTC":f(e)},o:function(){return(S()>0?"-":"+")+c(100*Math.floor(Math.abs(S())/60)+Math.abs(S())%60,4)},p:function(){return(S()>0?"-":"+")+c(Math.floor(Math.abs(S())/60),2)+":"+c(Math.floor(Math.abs(S())%60),2)},S:function(){return["th","st","nd","rd"][p()%10>3?0:(p()%100-p()%10!=10)*p()%10]},W:function(){return N()},WW:function(){return c(N())},N:function(){return j()}};return t.replace(i,(function(e){return e in T?T[e]():e.slice(1,e.length-1)}))}var o={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},u=function(e){var t=e.y,n=e.m,i=e.d,s=e._,r=e.dayName,a=e.short,o=void 0!==a&&a,l=new Date,c=new Date;c.setDate(c[s+"Date"]()-1);var u=new Date;u.setDate(u[s+"Date"]()+1);return l[s+"FullYear"]()===t&&l[s+"Month"]()===n&&l[s+"Date"]()===i?o?"Tdy":"Today":c[s+"FullYear"]()===t&&c[s+"Month"]()===n&&c[s+"Date"]()===i?o?"Ysd":"Yesterday":u[s+"FullYear"]()===t&&u[s+"Month"]()===n&&u[s+"Date"]()===i?o?"Tmw":"Tomorrow":r},d=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-i);var s=(t-n)/6048e5;return 1+Math.floor(s)},m=function(e){var t=e.getDay();return 0===t&&(t=7),t},f=function(e){return(String(e).match(s)||[""]).pop().replace(r,"").replace(/GMT\+0000/g,"UTC")}})),i.register("gIXxX",(function(t,n){e(t.exports,"isALTRequired",(function(){return f})),e(t.exports,"getPendingSwaps",(function(){return x})),e(t.exports,"sendALTTxns",(function(){return y})),e(t.exports,"getALTSize",(function(){return v})),e(t.exports,"getInitSwapTxns",(function(){return S})),e(t.exports,"getCancelSwapTxn",(function(){return N})),e(t.exports,"getRejectSwapTxn",(function(){return j})),e(t.exports,"getCompleteSwapTxn",(function(){return T})),e(t.exports,"createSwapALT",(function(){return K}));var s=i("d1D4c"),r=i("bqP0o"),a=i("k8RzP"),o=i("ljuCd"),l=i("48d1y"),c=i("f1WHJ"),u=i("jmcJ0"),d=i("6uvGs");function m(e){const t=new(0,s.AnchorProvider)(o.conn,e,{preflightCommitment:"confirmed"});return new(0,s.Program)(l.IDL,o.swap_program,t)}function f(e){const t=e.filter((e=>"PROGRAMMABLE_NON_FUNGIBLE"===e.tokenStandard)).length,n=e.filter((e=>"NON_FUNGIBLE"!==e.tokenStandard)).length;return t>2||(n>5||t+n>4)}function p(e,t){let n=e.account.initNfts.map((e=>t[e.toBase58()])).filter((e=>void 0!==e)),i=e.account.recvNfts.map((e=>t[e.toBase58()])).filter((e=>void 0!==e));const s=g(e.account.initNfts),r=g(e.account.recvNfts);return s&&(n=n.filter((e=>e.mint!==s.mint))),r&&(i=i.filter((e=>e.mint!==r.mint))),{swap:e.publicKey.toBase58(),initiator:e.account.initiator.toBase58(),receiver:e.account.receiver.toBase58(),init_nfts:n,recv_nfts:i,init_sol:e.account.initSol.toNumber(),recv_sol:e.account.recvSol.toNumber(),initTokenAmount:e.account.initTokenAmount.toNumber(),recvTokenAmount:e.account.recvTokenAmount.toNumber(),initToken:s,recvToken:r,alt:e.account.alt}}function g(e){for(const t of e){const e=o.swapTokens.find((e=>e.mint===t.toBase58()));if(e)return e}return null}async function x(e){const t=m(),n=await t.account.swap.all(),i=n.filter((t=>t.account.receiver.equals(e))),s=n.filter((t=>t.account.initiator.equals(e))),r=await async function(e,t){const n=[];e.forEach((e=>n.push(...e.account.initNfts,...e.account.recvNfts))),t.forEach((e=>n.push(...e.account.recvNfts,...e.account.initNfts)));const i=await(0,u.getMultipleNFTsTensor)(n.map((e=>e.toBase58())));return i.reduce(((e,t)=>(e[t.mint]=t,e)),{})}(i,s),a=i.map((e=>p(e,r))),o=s.map((e=>p(e,r)));return console.log(a,o),{incomingSwaps:a,outgoingSwaps:o}}async function h(e,t){const[n,i]=await(0,o.getSwapAuthority)(e,t),[s,r]=await(0,o.getSwapEscrow)(e,t);return{authority:n,auth_bump:i,escrow:s,escrow_bump:r}}function w(e){return e?new(0,s.BN)((e.transferAmount||e.amount)*Math.pow(10,e.decimals)):new(0,s.BN)(0)}async function y(e,t,n){try{const i=await async function(e,t){const n=(await o.conn1.getLatestBlockhash()).blockhash;return e.forEach(((e,i)=>{e.feePayer=t.publicKey,e.recentBlockhash=n})),await t.signAllTransactions(e)}(e,t);return n||await(0,c.sendTransaction)(i[0],t,!1),await Promise.all(i.map((async(e,n)=>{try{if(0===n)return;await(0,c.sendTransaction)(e,t,!1)}catch(e){return console.log(e)}}))),!0}catch(e){return console.log(e),!1}}async function v(e){try{return(await o.conn.getAddressLookupTable(e,{commitment:"confirmed"})).value.state.addresses.length}catch(e){return console.log(e),0}}async function b(e,t,n,i){return{nftMetadata:await(0,o.getMetadataAccount)(e),edition:(0,o.getMasterEdition)(e),ownerTokenRecord:await(0,o.getTokenRecord)(e,t),destTokenRecord:await(0,o.getTokenRecord)(e,n),rulesAcc:i,tokenMetadataProgram:o.METADATA_PROGRAM,instructions:s.web3.SYSVAR_INSTRUCTIONS_PUBKEY,authRules:d.AUTH_RULES_PROGRAM}}async function S(e,t,n,i,r){const a=new s.web3.Transaction,{ixn:l,swap:u}=await async function(e,t,n,i,r){const a=m(),{authority:o,auth_bump:l}=await h(t,n),c=new s.web3.Keypair,u=function(e,t){const n=[];for(const t of e.init_nfts)n.push({pubkey:new s.web3.PublicKey(t.mint),isWritable:!1,isSigner:!1});e.initToken&&n.push({pubkey:new s.web3.PublicKey(e.initToken.mint),isWritable:!1,isSigner:!1});for(const t of e.recv_nfts)n.push({pubkey:new s.web3.PublicKey(t.mint),isWritable:!1,isSigner:!1});return e.recvToken&&n.push({pubkey:new s.web3.PublicKey(e.recvToken.mint),isWritable:!1,isSigner:!1}),t&&(n.push({isWritable:!1,isSigner:!1,pubkey:new s.web3.PublicKey(t.account)}),n.push({isWritable:!1,isSigner:!1,pubkey:new s.web3.PublicKey(t.mint)}),t.mission&&n.push({isWritable:!1,isSigner:!1,pubkey:new s.web3.PublicKey(t.mission)})),n}(e,r);return{ixn:await a.methods.initSwap2(l,new(0,s.BN)(1e9*e.init_sol),new(0,s.BN)(1e9*e.recv_sol),e.init_nfts.length+(e.initToken?1:0),e.recv_nfts.length+(e.recvToken?1:0),w(e.initToken),w(e.recvToken),null!=i?i:null).accounts({swap:c.publicKey,authority:o,initiator:t,receiver:n}).remainingAccounts(u).instruction(),swap:c}}(e,t,n,i,r);a.add(l);const d=await(0,c.getMetadataAccounts)(o.conn,e.init_nfts.map((e=>e.mint)));for(let i=0;i<e.init_nfts.length;i++)d[i].programmableConfig?a.add(await M(t,n,u.publicKey,e.init_nfts[i],d[i].programmableConfig.ruleSet)):a.add(await k(t,n,u.publicKey,e.init_nfts[i]));return e.initToken&&a.add(await async function(e,t,n,i){const r=m(),a=new s.web3.PublicKey(e.initToken.mint),{authority:l,auth_bump:c}=await h(n,i),[u,d]=await(0,o.getNFTEscrow)(n,a,i);return await r.methods.depositNft(d).accounts({swap:t,authority:l,initiator:n,receiver:i,initiatorMint:a,initiatorAccount:await(0,o.getTokenWallet)(n,a),escrowAccount:u}).instruction()}(e,u.publicKey,t,n)),{txn:a,swap:u}}async function N(e){const t=new s.web3.Transaction,n=await(0,c.getMetadataAccounts)(o.conn,e.init_nfts.map((e=>e.mint)));for(let i=0;i<e.init_nfts.length;i++)n[i].programmableConfig?t.add(await R(e,e.init_nfts[i],n[i].programmableConfig.ruleSet)):t.add(await F(e,e.init_nfts[i]));e.initToken&&t.add(await F(e,e.initToken));const i=await async function(e){const t=m(),n=new s.web3.PublicKey(e.initiator),i=new s.web3.PublicKey(e.receiver),{authority:r}=await h(n,i);return await t.methods.cancelSwap().accounts({swap:e.swap,authority:r,initiator:n,receiver:i}).instruction()}(e);return t.add(i),t}async function j(e){const t=new s.web3.Transaction,n=await(0,c.getMetadataAccounts)(o.conn,e.init_nfts.map((e=>e.mint)));for(let i=0;i<e.init_nfts.length;i++)n[i].programmableConfig?t.add(await E(e,e.init_nfts[i],n[i].programmableConfig.ruleSet)):t.add(await L(e,e.init_nfts[i]));e.initToken&&t.add(await L(e,e.initToken));const i=await async function(e){const t=m(),n=new s.web3.PublicKey(e.initiator),i=new s.web3.PublicKey(e.receiver),{authority:r}=await h(n,i);return await t.methods.rejectSwap().accounts({swap:e.swap,authority:r,initiator:n,receiver:i}).instruction()}(e);return t.add(i),t}async function T(e){const t=new s.web3.Transaction,n=await(0,c.getMetadataAccounts)(o.conn,[...e.recv_nfts,...e.init_nfts].map((e=>e.mint)));for(let i=0;i<e.recv_nfts.length;i++)n[i].programmableConfig?t.add(await _(e,e.recv_nfts[i],n[i].programmableConfig.ruleSet)):t.add(await P(e,e.recv_nfts[i]));e.recvToken&&t.add(await P(e,e.recvToken));for(let i=e.recv_nfts.length;i<e.init_nfts.length+e.recv_nfts.length;i++)n[i].programmableConfig?t.add(await C(e,e.init_nfts[i-e.recv_nfts.length],n[i].programmableConfig.ruleSet)):t.add(await A(e,e.init_nfts[i-e.recv_nfts.length]));e.initToken&&t.add(await A(e,e.initToken));const i=await async function(e){const t=m(),n=new s.web3.PublicKey(e.initiator),i=new s.web3.PublicKey(e.receiver),{authority:r}=await h(n,i);return await t.methods.completeSwap(new(0,s.BN)(e.init_sol||e.recv_sol)).accounts({swap:e.swap,authority:r,initiator:n,receiver:i,payment:o.fees}).instruction()}(e);return t.add(i),t}async function k(e,t,n,i){const r=m(),a=new s.web3.PublicKey(i.mint),{authority:l,auth_bump:c}=await h(e,t),[u,d]=await(0,o.getNFTEscrow)(e,a,t);return await r.methods.depositNft(d).accounts({swap:n,authority:l,initiator:e,receiver:t,initiatorMint:a,initiatorAccount:await(0,o.getTokenWallet)(e,a),escrowAccount:u}).instruction()}async function M(e,t,n,i,r){const a=m(),l=new s.web3.PublicKey(i.mint),c=await(0,o.getTokenWallet)(e,l),{authority:u,auth_bump:d}=await h(e,t),[f,p]=await(0,o.getNFTEscrow)(e,l,t);return await a.methods.depositPnft(p).accounts({swap:n,authority:u,initiator:e,receiver:t,initiatorMint:l,initiatorAccount:c,escrowAccount:f,pnftctx:await b(l,c,f,null!=r?r:s.web3.SystemProgram.programId)}).instruction()}async function P(e,t){const n=m(),i=new s.web3.PublicKey(t.mint),r=new s.web3.PublicKey(e.initiator),a=new s.web3.PublicKey(e.receiver);return await n.methods.transferNft(new(0,s.BN)(e.recvTokenAmount)).accounts({swap:e.swap,initiator:e.initiator,receiver:e.receiver,initiatorRecvAccount:await(0,o.getTokenWallet)(r,i),receiverAccount:await(0,o.getTokenWallet)(a,i),receiverMint:i}).instruction()}async function _(e,t,n){const i=m(),r=new s.web3.PublicKey(t.mint),a=new s.web3.PublicKey(e.initiator),l=new s.web3.PublicKey(e.receiver),c=await(0,o.getTokenWallet)(a,r),u=await(0,o.getTokenWallet)(l,r);return await i.methods.transferPnft(new(0,s.BN)(e.recvTokenAmount)).accounts({swap:e.swap,initiator:e.initiator,receiver:e.receiver,initiatorRecvAccount:c,receiverAccount:u,receiverMint:r,pnftctx:await b(r,u,c,null!=n?n:s.web3.SystemProgram.programId)}).instruction()}async function A(e,t){const n=m(),i=new s.web3.PublicKey(t.mint),r=new s.web3.PublicKey(e.initiator),a=new s.web3.PublicKey(e.receiver),{authority:l}=await h(r,a),[c]=await(0,o.getNFTEscrow)(r,i,a);return await n.methods.transferEscrowNft().accounts({swap:e.swap,authority:l,initiator:e.initiator,receiver:e.receiver,receiverRecvAccount:await(0,o.getTokenWallet)(a,i),escrowAccount:c,initiatorMint:i}).instruction()}async function C(e,t,n){const i=m(),r=new s.web3.PublicKey(t.mint),a=new s.web3.PublicKey(e.initiator),l=new s.web3.PublicKey(e.receiver),{authority:c}=await h(a,l),[u]=await(0,o.getNFTEscrow)(a,r,l),d=await(0,o.getTokenWallet)(l,r);return await i.methods.transferEscrowPnft().accounts({swap:e.swap,authority:c,initiator:e.initiator,receiver:e.receiver,receiverRecvAccount:d,escrowAccount:u,initiatorMint:r,pnftctx:await b(r,u,d,null!=n?n:s.web3.SystemProgram.programId)}).instruction()}async function F(e,t){const n=m(),i=new s.web3.PublicKey(t.mint),r=new s.web3.PublicKey(e.initiator),a=new s.web3.PublicKey(e.receiver),{authority:l}=await h(r,a),c=await(0,o.getTokenWallet)(r,i),[u]=await(0,o.getNFTEscrow)(r,i,a);return await n.methods.withdrawNft().accounts({swap:e.swap,authority:l,initiator:e.initiator,receiver:e.receiver,initiatorMint:i,initiatorAccount:c,escrowAccount:u}).instruction()}async function R(e,t,n){const i=m(),r=new s.web3.PublicKey(t.mint),a=new s.web3.PublicKey(e.initiator),l=new s.web3.PublicKey(e.receiver),{authority:c}=await h(a,l),u=await(0,o.getTokenWallet)(a,r),[d]=await(0,o.getNFTEscrow)(a,r,l);return await i.methods.withdrawPnft().accounts({swap:e.swap,authority:c,initiator:e.initiator,receiver:e.receiver,initiatorMint:r,initiatorAccount:u,escrowAccount:d,pnftctx:await b(r,d,u,null!=n?n:s.web3.SystemProgram.programId)}).instruction()}async function L(e,t){const n=m(),i=new s.web3.PublicKey(t.mint),r=new s.web3.PublicKey(e.initiator),a=new s.web3.PublicKey(e.receiver),{authority:l}=await h(r,a),c=await(0,o.getTokenWallet)(r,i),[u]=await(0,o.getNFTEscrow)(r,i,a);return await n.methods.returnNft().accounts({swap:e.swap,authority:l,initiator:e.initiator,receiver:e.receiver,initiatorMint:i,initiatorAccount:c,escrowAccount:u}).instruction()}async function E(e,t,n){const i=m(),r=new s.web3.PublicKey(t.mint),a=new s.web3.PublicKey(e.initiator),l=new s.web3.PublicKey(e.receiver),{authority:c}=await h(a,l),u=await(0,o.getTokenWallet)(a,r),[d]=await(0,o.getNFTEscrow)(a,r,l);return await i.methods.returnPnft().accounts({swap:e.swap,authority:c,initiator:e.initiator,receiver:e.receiver,initiatorMint:r,initiatorAccount:u,escrowAccount:d,pnftctx:await b(r,d,u,null!=n?n:s.web3.SystemProgram.programId)}).instruction()}const K=async(e,t,n,i)=>{const l=await o.conn.getSlot(),c=[...e.init_nfts,...e.recv_nfts],{authority:u}=await h(t,n);let m=[t,n,u,s.web3.SystemProgram.programId,r.TOKEN_PROGRAM_ID,r.ASSOCIATED_TOKEN_PROGRAM_ID,d.AUTH_RULES_PROGRAM,s.web3.SYSVAR_INSTRUCTIONS_PUBKEY];for(const e of c){const i=new s.web3.PublicKey(e.mint),[r]=await(0,o.getNFTEscrow)(t,i,n),a=await(0,o.getTokenWallet)(n,i),l=await(0,o.getTokenWallet)(t,i);m.push(i,r),m.push(await(0,o.getMetadataAccount)(i)),m.push((0,o.getMasterEdition)(i)),m.push(a),m.push(await(0,o.getTokenRecord)(i,n)),m.push(l),m.push(await(0,o.getTokenRecord)(i,t)),m.push(await(0,o.getTokenRecord)(i,r))}m=(0,a.uniqBy)(m,(e=>e.toBase58()));const f=(0,a.chunk)(m,30),p=[],g=new s.web3.Transaction;let[x,w]=s.web3.AddressLookupTableProgram.createLookupTable({authority:t,payer:t,recentSlot:l});g.add(x),w=null!=i?i:w;const y=[];for(const e of f)y.push(s.web3.AddressLookupTableProgram.extendLookupTable({payer:t,authority:t,lookupTable:w,addresses:e}));g.add(y[0]);const v=(await o.conn.getRecentBlockhash()).blockhash;g.recentBlockhash=v,g.feePayer=t,p.push(g);for(let e=1;e<y.length;e++){const n=new s.web3.Transaction;n.add(y[e]),n.feePayer=t,n.recentBlockhash=v,p.push(n)}return{txns:p,address:w,count:m.length}}})),i.register("48d1y",(function(t,n){e(t.exports,"IDL",(function(){return i}));const i={version:"0.1.0",name:"multiswap",instructions:[{name:"initSwap2",accounts:[{name:"swap",isMut:!0,isSigner:!0},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authBump",type:"u8"},{name:"initSol",type:"u64"},{name:"recvSol",type:"u64"},{name:"initCount",type:"u8"},{name:"recvCount",type:"u8"},{name:"initTokenAmount",type:"u64"},{name:"recvTokenAmount",type:"u64"},{name:"alt",type:{option:"publicKey"}}]},{name:"depositNft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"escrowBump",type:"u8"}]},{name:"depositPnft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"pnftctx",accounts:[{name:"nftMetadata",isMut:!0,isSigner:!1},{name:"edition",isMut:!1,isSigner:!1},{name:"ownerTokenRecord",isMut:!0,isSigner:!1},{name:"destTokenRecord",isMut:!0,isSigner:!1},{name:"rulesAcc",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1},{name:"authRules",isMut:!1,isSigner:!1}]}],args:[{name:"escrowBump",type:"u8"}]},{name:"withdrawNft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"withdrawPnft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"pnftctx",accounts:[{name:"nftMetadata",isMut:!0,isSigner:!1},{name:"edition",isMut:!1,isSigner:!1},{name:"ownerTokenRecord",isMut:!0,isSigner:!1},{name:"destTokenRecord",isMut:!0,isSigner:!1},{name:"rulesAcc",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1},{name:"authRules",isMut:!1,isSigner:!1}]}],args:[]},{name:"cancelSwap",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"transferNft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"initiatorRecvAccount",isMut:!0,isSigner:!1},{name:"receiverAccount",isMut:!0,isSigner:!1},{name:"receiverMint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"recvTokenAmount",type:"u64"}]},{name:"transferPnft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"initiatorRecvAccount",isMut:!0,isSigner:!1},{name:"receiverAccount",isMut:!0,isSigner:!1},{name:"receiverMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"pnftctx",accounts:[{name:"nftMetadata",isMut:!0,isSigner:!1},{name:"edition",isMut:!1,isSigner:!1},{name:"ownerTokenRecord",isMut:!0,isSigner:!1},{name:"destTokenRecord",isMut:!0,isSigner:!1},{name:"rulesAcc",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1},{name:"authRules",isMut:!1,isSigner:!1}]}],args:[{name:"recvTokenAmount",type:"u64"}]},{name:"transferEscrowNft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"receiverRecvAccount",isMut:!0,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"transferEscrowPnft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"receiverRecvAccount",isMut:!0,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"pnftctx",accounts:[{name:"nftMetadata",isMut:!0,isSigner:!1},{name:"edition",isMut:!1,isSigner:!1},{name:"ownerTokenRecord",isMut:!0,isSigner:!1},{name:"destTokenRecord",isMut:!0,isSigner:!1},{name:"rulesAcc",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1},{name:"authRules",isMut:!1,isSigner:!1}]}],args:[]},{name:"returnNft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"returnPnft",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"initiatorAccount",isMut:!0,isSigner:!1},{name:"initiatorMint",isMut:!1,isSigner:!1},{name:"escrowAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"pnftctx",accounts:[{name:"nftMetadata",isMut:!0,isSigner:!1},{name:"edition",isMut:!1,isSigner:!1},{name:"ownerTokenRecord",isMut:!0,isSigner:!1},{name:"destTokenRecord",isMut:!0,isSigner:!1},{name:"rulesAcc",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"instructions",isMut:!1,isSigner:!1},{name:"authRules",isMut:!1,isSigner:!1}]}],args:[]},{name:"rejectSwap",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"completeSwap",accounts:[{name:"swap",isMut:!0,isSigner:!1},{name:"authority",isMut:!0,isSigner:!1},{name:"initiator",isMut:!0,isSigner:!1},{name:"receiver",isMut:!0,isSigner:!0},{name:"payment",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"sol",type:"u64"}]}],accounts:[{name:"swap",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"initiator",type:"publicKey"},{name:"receiver",type:"publicKey"},{name:"initNfts",type:{array:["publicKey",5]}},{name:"recvNfts",type:{array:["publicKey",5]}},{name:"initSol",type:"u64"},{name:"recvSol",type:"u64"},{name:"sentCount",type:"u64"},{name:"receivedCount",type:"u64"},{name:"fox",type:"bool"},{name:"initTokenAmount",type:"u64"},{name:"recvTokenAmount",type:"u64"},{name:"alt",type:{option:"publicKey"}}]}}],errors:[{code:6e3,name:"InvalidAmount",msg:"Invalid sender or reciver amount"},{code:6001,name:"InvalidMint",msg:"Invalid mint"},{code:6002,name:"NotReturned",msg:"NFTs not returned yet"},{code:6003,name:"IncompleteSwap",msg:"Incomplete swap"},{code:6004,name:"InvalidStake",msg:"Invalid stake"},{code:6005,name:"InvalidRoyalties",msg:"Invalid royalties"}]}})),i.register("797EZ",(function(e,t){e.exports=new URL(i("l8k7r").resolve("D1fPC"),import.meta.url).toString()}));